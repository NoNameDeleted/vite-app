(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Or=!1;var ui=Array.isArray,ci=Array.prototype.indexOf,li=Array.from,fi=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,pi=Object.getOwnPropertyDescriptors,di=Object.getPrototypeOf;function hi(e){return e()}function Lr(e){for(var t=0;t<e.length;t++)e[t]()}const Y=2,Is=4,Ct=8,Rn=16,me=32,lt=64,wt=128,G=256,kt=512,H=1024,ge=2048,Fe=4096,Et=8192,Ot=16384,vi=32768,_i=65536,yi=1<<19,Ls=1<<20,Nr=Symbol("$state");function Ns(e){return e===this.v}function bi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function mi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function wi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ki(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Ei(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Dn=!1,$i=!1;function xi(){Dn=!0}const Ai=2;let T=null;function Rr(e){T=e}function Mn(e,t=!1,n){T={p:T,c:null,e:null,m:!1,s:e,x:null,l:null},Dn&&!t&&(T.l={s:null,u:null,r1:[],r2:Rs(!1)})}function Bn(e){const t=T;if(t!==null){const a=t.e;if(a!==null){var n=A,r=g;t.e=null;try{for(var s=0;s<a.length;s++){var o=a[s];Ne(o.effect),Le(o.reaction),Ks(o.fn)}}finally{Ne(n),Le(r)}}T=t.p,t.m=!0}return{}}function It(){return!Dn||T!==null&&T.l===null}function Rs(e,t){var n={f:0,v:e,reactions:null,equals:Ns,rv:0,wv:0};return n}function Ds(e){return Si(Rs(e))}function Si(e){return g!==null&&!fe&&g.f&Y&&(ne===null?Ui([e]):ne.push(e)),e}function qe(e,t){return g!==null&&!fe&&It()&&g.f&(Y|Rn)&&(ne===null||!ne.includes(e))&&Ei(),ji(e,t)}function ji(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=eo(),Ms(e,ge),It()&&A!==null&&A.f&H&&!(A.f&(me|lt))&&(ie===null?Wi([e]):ie.push(e))),t}function Ms(e,t){var n=e.reactions;if(n!==null)for(var r=It(),s=n.length,o=0;o<s;o++){var a=n[o],i=a.f;i&ge||!r&&a===A||(he(a,t),i&(H|G)&&(i&Y?Ms(a,Fe):Vn(a)))}}var Dr,Bs,Fs;function Pi(){if(Dr===void 0){Dr=window;var e=Element.prototype,t=Node.prototype;Bs=Ir(t,"firstChild").get,Fs=Ir(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Ti(e=""){return document.createTextNode(e)}function Us(e){return Bs.call(e)}function Ws(e){return Fs.call(e)}function re(e,t){return Us(e)}function ce(e,t=1,n=!1){let r=e;for(;t--;)r=Ws(r);return r}function Vs(e){var t=Y|ge,n=g!==null&&g.f&Y?g:null;return A===null||n!==null&&n.f&G?t|=G:A.f|=Ls,{ctx:T,deps:null,effects:null,equals:Ns,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??A}}function Gs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Se(t[n])}}function qi(e){for(var t=e.parent;t!==null;){if(!(t.f&Y))return t;t=t.parent}return null}function Ci(e){var t,n=A;Ne(qi(e));try{Gs(e),t=no(e)}finally{Ne(n)}return t}function Hs(e){var t=Ci(e),n=(de||e.f&G)&&e.deps!==null?Fe:H;he(e,n),e.equals(t)||(e.v=t,e.wv=eo())}function zs(e){A===null&&g===null&&gi(),g!==null&&g.f&G&&A===null&&mi(),Un&&bi()}function Oi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ft(e,t,n,r=!0){var s=(e&lt)!==0,o=A,a={ctx:T,deps:null,nodes_start:null,nodes_end:null,f:e|ge,first:null,fn:t,last:null,next:null,parent:s?null:o,prev:null,teardown:null,transitions:null,wv:0};if(n){var i=Oe;try{Br(!0),Wn(a),a.f|=vi}catch(l){throw Se(a),l}finally{Br(i)}}else t!==null&&Vn(a);var u=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Ls|wt))===0;if(!u&&!s&&r&&(o!==null&&Oi(a,o),g!==null&&g.f&Y)){var c=g;(c.effects??(c.effects=[])).push(a)}return a}function Mr(e){zs();var t=A!==null&&(A.f&me)!==0&&T!==null&&!T.m;if(t){var n=T;(n.e??(n.e=[])).push({fn:e,effect:A,reaction:g})}else{var r=Ks(e);return r}}function Ii(e){return zs(),Ni(e)}function Li(e){const t=ft(lt,e,!0);return(n={})=>new Promise(r=>{n.outro?Bi(t,()=>{Se(t),r(void 0)}):(Se(t),r(void 0))})}function Ks(e){return ft(Is,e,!1)}function Ni(e){return ft(Ct,e,!0)}function Fn(e,t=[],n=Vs){const r=t.map(n);return Ri(()=>e(...r.map(pt)))}function Ri(e,t=0){return ft(Ct|Rn|t,e,!0)}function Di(e,t=!0){return ft(Ct|me,e,!0,t)}function Js(e){var t=e.teardown;if(t!==null){const n=Un,r=g;Fr(!0),Le(null);try{t.call(null)}finally{Fr(n),Le(r)}}}function Qs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;Se(n,t),n=r}}function Mi(e){for(var t=e.first;t!==null;){var n=t.next;t.f&me||Se(t),t=n}}function Se(e,t=!0){var n=!1;if((t||e.f&yi)&&e.nodes_start!==null){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var o=r===s?null:Ws(r);r.remove(),r=o}n=!0}Qs(e,t&&!n),St(e,0),he(e,Ot);var a=e.transitions;if(a!==null)for(const u of a)u.stop();Js(e);var i=e.parent;i!==null&&i.first!==null&&Ys(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ys(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Bi(e,t){var n=[];Xs(e,n,!0),Fi(n,()=>{Se(e),t&&t()})}function Fi(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function Xs(e,t,n){if(!(e.f&Et)){if(e.f^=Et,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var s=r.next,o=(r.f&_i)!==0||(r.f&me)!==0;Xs(r,t,o?n:!1),r=s}}}let bt=!1,$t=!1,xt=null,Oe=!1,Un=!1;function Br(e){Oe=e}function Fr(e){Un=e}let cn=[],rt=0;let g=null,fe=!1;function Le(e){g=e}let A=null;function Ne(e){A=e}let ne=null;function Ui(e){ne=e}let R=null,F=0,ie=null;function Wi(e){ie=e}let Zs=1,At=0,de=!1;function eo(){return++Zs}function Lt(e){var f;var t=e.f;if(t&ge)return!0;if(t&Fe){var n=e.deps,r=(t&G)!==0;if(n!==null){var s,o,a=(t&kt)!==0,i=r&&A!==null&&!de,u=n.length;if(a||i){var c=e,l=c.parent;for(s=0;s<u;s++)o=n[s],(a||!((f=o==null?void 0:o.reactions)!=null&&f.includes(c)))&&(o.reactions??(o.reactions=[])).push(c);a&&(c.f^=kt),i&&l!==null&&!(l.f&G)&&(c.f^=G)}for(s=0;s<u;s++)if(o=n[s],Lt(o)&&Hs(o),o.wv>e.wv)return!0}(!r||A!==null&&!de)&&he(e,H)}return!1}function Vi(e,t){for(var n=t;n!==null;){if(n.f&wt)try{n.fn(e);return}catch{n.f^=wt}n=n.parent}throw bt=!1,e}function Gi(e){return(e.f&Ot)===0&&(e.parent===null||(e.parent.f&wt)===0)}function Nt(e,t,n,r){if(bt){if(n===null&&(bt=!1),Gi(t))throw e;return}n!==null&&(bt=!0);{Vi(e,t);return}}function to(e,t,n=0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];o.f&Y?to(o,t,n+1):t===o&&(n===0?he(o,ge):o.f&H&&he(o,Fe),Vn(o))}}function no(e){var h;var t=R,n=F,r=ie,s=g,o=de,a=ne,i=T,u=fe,c=e.f;R=null,F=0,ie=null,g=c&(me|lt)?null:e,de=(c&G)!==0&&(!Oe||s===null||u),ne=null,Rr(e.ctx),fe=!1,At++;try{var l=(0,e.fn)(),f=e.deps;if(R!==null){var p;if(St(e,F),f!==null&&F>0)for(f.length=F+R.length,p=0;p<R.length;p++)f[F+p]=R[p];else e.deps=f=R;if(!de)for(p=F;p<f.length;p++)((h=f[p]).reactions??(h.reactions=[])).push(e)}else f!==null&&F<f.length&&(St(e,F),f.length=F);if(It()&&ie!==null&&!(e.f&(Y|Fe|ge)))for(p=0;p<ie.length;p++)to(ie[p],e);return s!==null&&At++,l}finally{R=t,F=n,ie=r,g=s,de=o,ne=a,Rr(i),fe=u}}function Hi(e,t){let n=t.reactions;if(n!==null){var r=ci.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&t.f&Y&&(R===null||!R.includes(t))&&(he(t,Fe),t.f&(G|kt)||(t.f^=kt),Gs(t),St(t,0))}function St(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Hi(e,n[r])}function Wn(e){var t=e.f;if(!(t&Ot)){he(e,H);var n=A,r=T;A=e;try{t&Rn?Mi(e):Qs(e),Js(e);var s=no(e);e.teardown=typeof s=="function"?s:null,e.wv=Zs;var o=e.deps,a;Or&&$i&&e.f&ge}catch(i){Nt(i,e,n,r||e.ctx)}finally{A=n}}}function zi(){if(rt>1e3){rt=0;try{wi()}catch(e){if(xt!==null)Nt(e,xt,null);else throw e}}rt++}function Ki(e){var t=e.length;if(t!==0){zi();var n=Oe;Oe=!0;try{for(var r=0;r<t;r++){var s=e[r];s.f&H||(s.f^=H);var o=[];ro(s,o),Ji(o)}}finally{Oe=n}}}function Ji(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(Ot|Et)))try{Lt(r)&&(Wn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Ys(r):r.fn=null))}catch(s){Nt(s,r,null,r.ctx)}}}function Qi(){if($t=!1,rt>1001)return;const e=cn;cn=[],Ki(e),$t||(rt=0,xt=null)}function Vn(e){$t||($t=!0,queueMicrotask(Qi)),xt=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(lt|me)){if(!(n&H))return;t.f^=H}}cn.push(t)}function ro(e,t){var n=e.first,r=[];e:for(;n!==null;){var s=n.f,o=(s&me)!==0,a=o&&(s&H)!==0,i=n.next;if(!a&&!(s&Et))if(s&Ct){if(o)n.f^=H;else{var u=g;try{g=n,Lt(n)&&Wn(n)}catch(p){Nt(p,n,null,n.ctx)}finally{g=u}}var c=n.first;if(c!==null){n=c;continue}}else s&Is&&r.push(n);if(i===null){let p=n.parent;for(;p!==null;){if(e===p)break e;var l=p.next;if(l!==null){n=l;continue e}p=p.parent}}n=i}for(var f=0;f<r.length;f++)c=r[f],t.push(c),ro(c,t)}function pt(e){var t=e.f,n=(t&Y)!==0;if(g!==null&&!fe){ne!==null&&ne.includes(e)&&ki();var r=g.deps;e.rv<At&&(e.rv=At,R===null&&r!==null&&r[F]===e?F++:R===null?R=[e]:(!de||!R.includes(e))&&R.push(e))}else if(n&&e.deps===null&&e.effects===null){var s=e,o=s.parent;o!==null&&!(o.f&G)&&(s.f^=G)}return n&&(s=e,Lt(s)&&Hs(s)),e.v}function Yi(e){var t=fe;try{return fe=!0,e()}finally{fe=t}}const Xi=-7169;function he(e,t){e.f=e.f&Xi|t}function Zi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Nr in e)ln(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Nr in n&&ln(n)}}}function ln(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ln(e[r],t)}catch{}const n=di(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=pi(n);for(let s in r){const o=r[s].get;if(o)try{o.call(e)}catch{}}}}}const eu=["touchstart","touchmove"];function tu(e){return eu.includes(e)}const so=new Set,fn=new Set;function nu(e){for(var t=0;t<e.length;t++)so.add(e[t]);for(var n of fn)n(e)}function yt(e){var y;var t=this,n=t.ownerDocument,r=e.type,s=((y=e.composedPath)==null?void 0:y.call(e))||[],o=s[0]||e.target,a=0,i=e.__root;if(i){var u=s.indexOf(i);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;u<=c&&(a=u)}if(o=s[a]||e.target,o!==t){fi(e,"currentTarget",{configurable:!0,get(){return o||n}});var l=g,f=A;Le(null),Ne(null);try{for(var p,h=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var q=o["__"+r];if(q!==void 0&&!o.disabled)if(ui(q)){var[E,...B]=q;E.apply(o,[e,...B])}else q.call(o,e)}catch(_){p?h.push(_):p=_}if(e.cancelBubble||v===t||v===null)break;o=v}if(p){for(let _ of h)queueMicrotask(()=>{throw _});throw p}}finally{e.__root=t,delete e.currentTarget,Le(l),Ne(f)}}}function ru(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function su(e,t){var n=A;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Ue(e,t){var n=(t&Ai)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=ru(s?e:"<!>"+e),r=Us(r));var o=n?document.importNode(r,!0):r.cloneNode(!0);return su(o,o),o}}function We(e,t){e!==null&&e.before(t)}function Gn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ou(e,t){return au(e,t)}const Te=new Map;function au(e,{target:t,anchor:n,props:r={},events:s,context:o,intro:a=!0}){Pi();var i=new Set,u=f=>{for(var p=0;p<f.length;p++){var h=f[p];if(!i.has(h)){i.add(h);var v=tu(h);t.addEventListener(h,yt,{passive:v});var q=Te.get(h);q===void 0?(document.addEventListener(h,yt,{passive:v}),Te.set(h,1)):Te.set(h,q+1)}}};u(li(so)),fn.add(u);var c=void 0,l=Li(()=>{var f=n??t.appendChild(Ti());return Di(()=>{if(o){Mn({});var p=T;p.c=o}s&&(r.$$events=s),c=e(f,r)||{},o&&Bn()}),()=>{var v;for(var p of i){t.removeEventListener(p,yt);var h=Te.get(p);--h===0?(document.removeEventListener(p,yt),Te.delete(p)):Te.set(p,h)}fn.delete(u),f!==n&&((v=f.parentNode)==null||v.removeChild(f))}});return iu.set(c,l),c}let iu=new WeakMap;function uu(e,t,n,r){var s=e.__attributes??(e.__attributes={});s[t]!==(s[t]=n)&&e.setAttribute(t,n)}function cu(e=!1){const t=T,n=t.l.u;if(!n)return;let r=()=>Zi(t.s);if(e){let s=0,o={};const a=Vs(()=>{let i=!1;const u=t.s;for(const c in u)u[c]!==o[c]&&(o[c]=u[c],i=!0);return i&&s++,s});r=()=>pt(a)}n.b.length&&Ii(()=>{Ur(t,r),Lr(n.b)}),Mr(()=>{const s=Yi(()=>n.m.map(hi));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&Mr(()=>{Ur(t,r),Lr(n.a)})}function Ur(e,t){if(e.l.s)for(const n of e.l.s)pt(n);t()}function oo(e,t,n,r){var s;s=e[t];var o=r,a=!0,i=()=>(a&&(a=!1,o=r),o);s===void 0&&r!==void 0&&(s=i());var u;return u=()=>{var c=e[t];return c===void 0?i():(a=!0,c)},u}const lu="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lu);xi();const fu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA4lJREFUWIWtV79LW1EU/u7jaRGtUm5sVOwgolAhGQQp1kUhk4vUoTh0E/onmL+gQ/IviFuHDqWlizgE2kUKDRQxUENKcFBMbF4QU0No1NwOybmed3NfEku/5XnfPed85/eLAgGQUip2FOVyOUg0EL3YEEEKsYGQfp+qeT6dTs7c14bgip8ePcF+/VpLJatFbA2O4XvjxjRkdUJKqTjpvONqG4Sl/j6sXZxoGw4n50hWiwg7rkhWi5h3XKRqHuYdl6JSUkorOZflNjhaXEpKCcHJ9+vXIOGw44rzu8hV66woIzwTnJxIzxs3yrQBAFuDY1jq7wMArF2cNDPAycOOKwCI88YNyuUyWqkmQzojLBM2cthskD4vs0vkBFLi4GcppUhWi7y7kap5SLGs2fqD3lHpiNPlQluDY0hWi1RfYRBr0vjCdBsBACTSecVIrPq8IQFAtIQVv+A1Rqt2QaRBSKTzmgOALhOByiWYx8o2ckScOa1gt1Dq6kgincfq+Cgik8P6bBtNKhffA6BoYwMhK/ns0DBePB3t6MDHoxJyVxWrE7SMeK/oKeCdyskBaPJeMTs0jN1CSZ9Xx0eRqnl4KPwTBuDOAeaEii9MI3Na0dETukVvynDd+MI0fqsbxXjaHZBSKrPG942ewLNApWjZ9m1Rx6LrUyL0Ev2/yLqAnlHRRfa/gjgdKaXKJF4CRu05clfNdzTb/Gl7x3VMUBmIs/k1XH3d0dv3r54hkc5bn53uOMzAiNO3ioPwPP4GZ/Hm3+bT9k7fvY11td3WhGbzcSwvrmN5cf1e9xR5kN3AKQCAneNLhEIhRFc2AABfvn7QRDZyLhNd2UAoFMK3a9UmCwATkRiiczNC8BXMV29kchg7x5c+pcPP7zr5q0EOEzanRnznVqMKAHDYCtYw05XNZuF5XpvhIHLP85DNZtvuzEbU34KgX7mbUyPwvLtfs92cIHIuz6O39YGvBz4eldDpDHQuQ68lCnSAk3LyeuHAF1k3eJ6HeuGgzY7tbJ0CW+T1wgHOMqmu5GeZlCY37dnsdhxDwu32Hm639wA0xycIdMflTSdM8E0oclcVxT+9tn1+lkkFOmHLUO6qAtPmA8cRfxqNJikXllLaHBAAVC/p55iIxBB5HBaZX+dWmzR5PX0LAIiJSEyvtCBneGaiczPi8MfP7ob5gW9FADpVrX+/uKh1v5qkTM9qEwD+ApK5TteY7A5gAAAAAElFTkSuQmCC";var pu=Ue('<div class="svelte-1ey3w1g"><img alt="profile pic" class="svelte-1ey3w1g"></div>');function du(e){var t=pu(),n=re(t);uu(n,"src",fu),We(e,t)}var hu=Ue('<div><button class="svelte-lgvdmu"> </button></div>');function Ae(e,t){let n=oo(t,"value",3,"подписаться");var r=hu(),s=re(r);s.__click=function(...a){var i;(i=t.onclick)==null||i.apply(this,a)};var o=re(s);Fn(()=>Gn(o,n())),We(e,r)}nu(["click"]);function ao(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function vu(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function _u(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function Re(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??_u(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(s==null?void 0:s.message)??e.message??vu(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function se(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},ao())}}}function yu(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var bu=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Hn(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function zn(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function io(){return{kind:"schema",type:"any",reference:io,expects:"any",async:!1,get"~standard"(){return se(this)},"~run"(e){return e.typed=!0,e}}}function pn(e){return{kind:"schema",type:"boolean",reference:pn,expects:"boolean",async:!1,message:e,get"~standard"(){return se(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:Re(this,"type",t,n),t}}}function Kn(e){return{kind:"schema",type:"function",reference:Kn,expects:"Function",async:!1,message:e,get"~standard"(){return se(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:Re(this,"type",t,n),t}}}function te(e,t){return{kind:"schema",type:"loose_object",reference:te,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return se(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:Hn(i),c=i["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:o,key:a,value:u};for(const f of c.issues)f.path?f.path.unshift(l):f.path=[l],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[a]=c.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(Re(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)yu(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else Re(this,"type",n,r);return n}}}function Ze(e,t){return{kind:"schema",type:"nullish",reference:Ze,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return se(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=Hn(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function dn(e){return{kind:"schema",type:"number",reference:dn,expects:"number",async:!1,message:e,get"~standard"(){return se(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Re(this,"type",t,n),t}}}function hn(e,t){return{kind:"schema",type:"optional",reference:hn,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return se(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Hn(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Ee(e){return{kind:"schema",type:"string",reference:Ee,expects:"string",async:!1,message:e,get"~standard"(){return se(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:Re(this,"type",t,n),t}}}function uo(){return{kind:"schema",type:"unknown",reference:uo,expects:"unknown",async:!1,get"~standard"(){return se(this)},"~run"(e){return e.typed=!0,e}}}function Wr(e,t,n){const r=e["~run"]({value:t},ao(n));if(r.issues)throw new bu(r.issues);return r.value}function mu(...e){return{...e[0],pipe:e,get"~standard"(){return se(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function co(e){return zn(te({TelegramWebviewProxy:te({postEvent:Kn()})}),e)}function gu(){try{return window.self!==window.top}catch{return!0}}var wu=Object.defineProperty,ku=(e,t,n)=>t in e?wu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vr=(e,t,n)=>ku(e,typeof t!="symbol"?t+"":t,n);function Eu(e){return t=>t instanceof e}function lo(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Eu(n)]}const[$u,qd]=lo("CancelledError","Promise was canceled"),[xu,Cd]=lo("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),fo=Symbol("Resolved");function Gr(e){return Array.isArray(e)&&e[0]===fo}function Au(e){return[fo,e]}function Hr(e,t){return e.reject=t.reject,e.abort=t.abort,e}let po=class vn extends Promise{constructor(t,n){let r,s;super((o,a)=>{let i,u;typeof t=="function"?(i=t,u=n):u=t;const c=[],l=d=>(...S)=>{const D=d(...S);return c.forEach(Ye=>Ye()),D},f=new AbortController,{signal:p}=f;s=d=>{!p.aborted&&f.abort(d)};const h=()=>p.reason,v=d=>{const S=()=>{d(h())};p.addEventListener("abort",S,!0);const D=()=>{p.removeEventListener("abort",S,!0)};return c.push(D),D},q=l(d=>{o(d),s(Au(d))});r=l(d=>{a(d),s(d)}),u||(u={});const{abortSignal:E,rejectOnAbort:B=!0}=u;if(E)if(E.aborted){const{reason:d}=E;if(B)return r(d);s(d)}else{const d=()=>{s(E.reason)};E.addEventListener("abort",d),c.push(()=>{E.removeEventListener("abort",d)})}B&&v(a);const{timeout:y}=u;if(y){const d=setTimeout(()=>{s(new xu(y))},y);c.push(()=>{clearTimeout(d)})}const _=()=>p.aborted,C=()=>Gr(h()),N=()=>{const d=h();return Gr(d)?d[1]:void 0};try{const d=i&&i(q,r,{abortReason:h,abortSignal:p,isAborted:_,isResolved:C,onAborted:v,onResolved:S=>v(()=>{C()&&S(N())}),resolved:N,throwIfAborted(){if(_())throw h()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),Vr(this,"abort"),Vr(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new vn(async(r,s,o)=>{try{r(await t(o))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new vn((n,r)=>{r(t)})}cancel(){this.abort(new $u)}catch(t){return this.then(void 0,t)}finally(t){return Hr(super.finally(t),this)}then(t,n){return Hr(super.then(t,n),this)}};function ho(e){return`tapps/${e}`}function Su(e,t){sessionStorage.setItem(ho(e),JSON.stringify(t))}function ju(e){const t=sessionStorage.getItem(ho(e));try{return t?JSON.parse(t):void 0}catch{}}function Pu(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function Tu(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,o=s===void 0?!0:s,a=typeof o=="boolean"?()=>o:o;function i(u,c,...l){if(c||a()){const f="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${f};background-color: lightblue;color:black`,"",`${f};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...l)}}return[i.bind(void 0,"log"),i.bind(void 0,"error")]}function vo(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function qu(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function Cu(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function U(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??Cu(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(s==null?void 0:s.message)??e.message??qu(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function K(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},vo())}}}function _o(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Ou(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Iu=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function yo(e,t){return{kind:"validation",type:"check",reference:yo,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&U(this,"input",n,r),n}}}function bo(e){return{kind:"validation",type:"integer",reference:bo,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&U(this,"integer",t,n),t}}}function ve(e){return{kind:"transformation",type:"transform",reference:ve,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function mo(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Lu(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function et(e){return{kind:"schema",type:"boolean",reference:et,expects:"boolean",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:U(this,"type",t,n),t}}}function go(e){return{kind:"schema",type:"date",reference:go,expects:"Date",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?U(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:U(this,"type",t,n),t}}}function wo(e,t){return{kind:"schema",type:"instance",reference:wo,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return K(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:U(this,"type",n,r),n}}}function Jn(e){return{kind:"schema",type:"lazy",reference:Jn,expects:"unknown",async:!1,getter:e,get"~standard"(){return K(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Ve(e,t){return{kind:"schema",type:"loose_object",reference:Ve,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return K(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:mo(i),c=i["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:o,key:a,value:u};for(const f of c.issues)f.path?f.path.unshift(l):f.path=[l],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[a]=c.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(U(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)_o(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else U(this,"type",n,r);return n}}}function Qn(e){return{kind:"schema",type:"number",reference:Qn,expects:"number",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:U(this,"type",t,n),t}}}function $(e,t){return{kind:"schema",type:"optional",reference:$,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return K(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=mo(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function ko(e,t,n){return{kind:"schema",type:"record",reference:ko,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return K(this)},"~run"(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const u in i)if(_o(i,u)){const c=i[u],l=this.key["~run"]({value:u},s);if(l.issues){const p={type:"object",origin:"key",input:i,key:u,value:c};for(const h of l.issues)h.path=[p],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}const f=this.value["~run"]({value:c},s);if(f.issues){const p={type:"object",origin:"value",input:i,key:u,value:c};for(const h of f.issues)h.path?h.path.unshift(p):h.path=[p],(a=r.issues)==null||a.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}(!l.typed||!f.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=f.value)}}else U(this,"type",r,s);return r}}}function b(e){return{kind:"schema",type:"string",reference:b,expects:"string",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:U(this,"type",t,n),t}}}function zr(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Eo(e,t){return{kind:"schema",type:"union",reference:Eo,expects:Ou(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return K(this)},"~run"(n,r){let s,o,a;for(const i of this.options){const u=i["~run"]({value:n.value},r);if(u.typed)if(u.issues)o?o.push(u):o=[u];else{s=u;break}else a?a.push(u):a=[u]}if(s)return s;if(o){if(o.length===1)return o[0];U(this,"type",n,r,{issues:zr(o)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];U(this,"type",n,r,{issues:zr(a)})}return n}}}function $o(){return{kind:"schema",type:"unknown",reference:$o,expects:"unknown",async:!1,get"~standard"(){return K(this)},"~run"(e){return e.typed=!0,e}}}function xo(e,t,n){const r=e["~run"]({value:t},vo(n));if(r.issues)throw new Iu(r.issues);return r.value}function _e(...e){return{...e[0],pipe:e,get"~standard"(){return K(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Nu(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Ru(e){return Object.entries(e).reduce((t,[n,r])=>(t[Nu(n)]=r,t),{})}function _n(e){const t=Ru(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(_n):_n(r))}return t}function Yn(e){return ve(t=>e?_n(t):t)}function Ao(e){return t=>_e(e,Yn(t))}function Du(e){return(t,n)=>xo(_e(e,Yn(n)),t)}function So(){return ve(JSON.parse)}function Xn(e){const t=Ao(e);return n=>_e(b(),So(),t(n))}function Mu(e){return ve(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const o=n[s];Array.isArray(o)?o.push(r):o===void 0?n[s]=r:n[s]=[o,r]}),xo(e,n)})}function jo(e){return t=>_e(Eo([b(),wo(URLSearchParams)]),Mu(e),Yn(t))}const Kr=$(Jn(()=>Vu())),Bu=Ve({id:Qn(),photo_url:$(b()),type:b(),title:b(),username:$(b())}),Fu=Ve({added_to_attachment_menu:$(et()),allows_write_to_pm:$(et()),first_name:b(),id:Qn(),is_bot:$(et()),is_premium:$(et()),last_name:$(b()),language_code:$(b()),photo_url:$(b()),username:$(b())}),Uu=Ve({auth_date:_e(b(),ve(e=>new Date(Number(e)*1e3)),go()),can_send_after:$(_e(b(),ve(Number),bo())),chat:$(Jn(()=>Wu())),chat_type:$(b()),chat_instance:$(b()),hash:b(),query_id:$(b()),receiver:Kr,start_param:$(b()),signature:b(),user:Kr}),Wu=Xn(Bu),Vu=Xn(Fu),Gu=jo(Uu);function Hu(e){return/^#[\da-f]{6}$/i.test(e)}const zu=Ao(ko(b(),_e(b(),yo(Hu),ve(e=>e)))),Xt=$(_e(b(),ve(e=>e==="1"))),Jr=Xn(zu()),Ku=Ve({tgWebAppBotInline:Xt,tgWebAppData:$(Gu()),tgWebAppDefaultColors:$(Jr()),tgWebAppFullscreen:Xt,tgWebAppPlatform:b(),tgWebAppShowSettings:Xt,tgWebAppStartParam:$(b()),tgWebAppThemeParams:Jr(),tgWebAppVersion:b()}),Po=jo(Ku),Ju=Du(Po()),Qu=Ve({eventType:b(),eventData:$($o())});function Yu(e){try{return Lu(Po(),e)}catch{return!1}}function Xu(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}function Zu(e,t){const n=Xu(),r=new Map,s=(o,a,i)=>{i||(i=!1);const u=r.get(o)||new Map;r.set(o,u);const c=u.get(a)||[];u.set(a,c);const l=c.findIndex(f=>f[1]===i);l>=0&&(n.off(o,c[l][0]),c.splice(l,1),!c.length&&u.delete(a),u.size||(r.delete(o),!r.size&&t()))};return[function(o,a,i){!r.size&&e();function u(){s(o,a,i)}function c(...p){i&&u(),o==="*"?a(p):a(...p)}n.on(o,c);const l=r.get(o)||new Map;r.set(o,l);const f=l.get(a)||[];return l.set(a,f),f.push([c,i||!1]),u},s,n.emit,function(){const o=n.all.size;n.all.clear(),r.clear(),o&&t()}]}function Qr(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let ec=!1;const[tc,nc]=Tu("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return ec}}),rc={clipboard_text_received:te({req_id:Ee(),data:Ze(Ee())}),custom_method_invoked:te({req_id:Ee(),result:hn(uo()),error:hn(Ee())}),popup_closed:Ze(te({button_id:Ze(Ee(),()=>{})}),{}),viewport_changed:te({height:dn(),width:Ze(dn(),()=>window.innerWidth),is_state_stable:pn(),is_expanded:pn()})};function Yr(e){if(e.source!==window.parent)return;let t;try{t=Wr(mu(Ee(),So(),Qu),e.data)}catch{return}const{eventType:n,eventData:r}=t,s=rc[n];try{const o=s?Wr(s,r):r;sc(n,o)}catch(o){nc(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,o)}}const[I,Rt,sc,Od]=Zu(()=>{const e=window,t={receiveEvent:Qr};e.TelegramGameProxy_receiveEvent=Qr,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",Yr)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",Yr)});function oc(e){return t=>t instanceof e}function Ge(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,oc(n)]}const[ac,Id]=Ge("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[ic,Ld]=Ge("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),uc=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[cc,Nd]=Ge("LaunchParamsRetrieveError",uc);Ge("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]);const[lc,Rd]=Ge("UnknownEnvError"),[fc,Dd]=Ge("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]);function pc(e,t){t()}function dc(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const o=c=>{if(!n(s,c)){const l=s;s=c,pc(u,()=>{[...r].forEach(([f,p])=>{f(c,l),p&&i(f,!0)})})}};function a(c){const l=typeof c!="object"?{once:c}:c;return{once:l.once||!1,signal:l.signal||!1}}const i=(c,l)=>{const f=a(l),p=r.findIndex(([h,v])=>h===c&&v.once===f.once&&v.signal===f.signal);p>=0&&r.splice(p,1)},u=Object.assign(function(){return hc(u),s},{destroy(){r=[]},set:o,reset(){o(e)},sub(c,l){return r.push([c,a(l)]),()=>i(c,l)},unsub:i,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const Zt=[];function hc(e){Zt.length&&Zt[Zt.length-1].add(e)}const vc=dc("https://web.telegram.org");function Zn(e,t){tc(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(gu())return n.parent.postMessage(r,vc());if(co(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(zn(te({external:te({notify:Kn()})}),n)){n.external.notify(r);return}throw new lc}function er(e,t,n){n||(n={});const{capture:r}=n,[s,o]=Pu();return new po(a=>{(Array.isArray(t)?t:[t]).forEach(i=>{s(I(i,u=>{(!r||(Array.isArray(t)?r({event:i,payload:u}):r(u)))&&a(u)}))}),(n.postEvent||Zn)(e,n.params)},n).finally(o)}const Xr="launchParams";function Zr(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function _c(){for(const e of[()=>Zr(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&Zr(t.name)},()=>ju(Xr)]){const t=e();if(t&&Yu(t))return Su(Xr,t),t}throw new cc}function To(e){return Ju(_c())}function es(e,t){try{return To(),!0}catch{return!1}return po.fn(async n=>{if(co(window))return!0;try{return await er("web_app_request_theme","theme_changed",n),!0}catch{return!1}},{timeout:100})}function yc(e){return({req_id:t})=>t===e}function ts(e){return e.split(".").map(Number)}function bc(e,t){const n=ts(e),r=ts(t),s=Math.max(n.length,r.length);for(let o=0;o<s;o+=1){const a=n[o]||0,i=r[o]||0;if(a!==i)return a>i?1:-1}return 0}function O(e,t){return bc(e,t)<=0}function De(e,t,n){if(typeof n=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return O("6.4",n);if(t==="try_browser")return O("7.6",n)}if(e==="web_app_set_header_color"&&t==="color")return O("6.9",n);if(e==="web_app_close"&&t==="return_back")return O("7.6",n);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return O("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return O("6.1",t);case"web_app_open_popup":return O("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return O("6.4",t);case"web_app_switch_inline_query":return O("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return O("6.9",t);case"web_app_setup_settings_button":return O("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return O("7.2",t);case"web_app_setup_swipe_behavior":return O("7.7",t);case"web_app_share_to_story":return O("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return O("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return O("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function mc(e,t){t||(t="strict");const n=typeof t=="function"?t:r=>{const{method:s,version:o}=r,a="param"in r?new ic(s,r.param,o):new ac(s,o);if(t==="strict")throw a;return console.warn(a.message)};return(r,s)=>De(r,e)?r==="web_app_set_header_color"&&zn(te({color:io()}),s)&&!De(r,"color",e)?n({version:e,method:r,param:"color"}):Zn(r,s):n({version:e,method:r})}function gc(e,t,n,r){return er("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:yc(n)}).then(({result:s,error:o})=>{if(o)throw new fc(o);return s})}function qo(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function wc(e){return e.replace(/_([a-z])/g,(t,n)=>`-${n.toLowerCase()}`)}function Co(e){return`tapps/${e}`}function X(e,t){sessionStorage.setItem(Co(e),JSON.stringify(t))}function Z(e){const t=sessionStorage.getItem(Co(e));try{return t?JSON.parse(t):void 0}catch{}}function tr(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function kc(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,o=s===void 0?!0:s,a=typeof o=="boolean"?()=>o:o;function i(u,c,...l){if(c||a()){const f="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${f};background-color: lightblue;color:black`,"",`${f};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...l)}}return[i.bind(void 0,"log"),i.bind(void 0,"error")]}function Ec(){return performance.getEntriesByType("navigation")[0]}function ee(){const e=Ec();return!!e&&e.type==="reload"}let Ce;function $c(e,t){Ce&&Ce.set(e,t)||t()}function yn(e){if(Ce)return e();Ce=new Map;try{e()}finally{Ce.forEach(t=>t()),Ce=void 0}}function Oo(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const o=c=>{if(!n(s,c)){const l=s;s=c,$c(u,()=>{[...r].forEach(([f,p])=>{f(c,l),p&&i(f,!0)})})}};function a(c){const l=typeof c!="object"?{once:c}:c;return{once:l.once||!1,signal:l.signal||!1}}const i=(c,l)=>{const f=a(l),p=r.findIndex(([h,v])=>h===c&&v.once===f.once&&v.signal===f.signal);p>=0&&r.splice(p,1)},u=Object.assign(function(){return xc(u),s},{destroy(){r=[]},set:o,reset(){o(e)},sub(c,l){return r.push([c,a(l)]),()=>i(c,l)},unsub:i,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const st=[];function xc(e){st.length&&st[st.length-1].add(e)}function Ac(e,t){let n=new Set,r;function s(){return r||(r=Oo(a(),t))}function o(){s().set(a())}function a(){n.forEach(c=>{c.unsub(o,{signal:!0})});const i=new Set;let u;st.push(i);try{u=e()}finally{st.pop()}return i.forEach(c=>{c.sub(o,{signal:!0})}),n=i,u}return Object.assign(function(){return s()()},{destroy(){s().destroy()},sub(...i){return s().sub(...i)},unsub(...i){s().unsub(...i)},unsubAll(...i){s().unsubAll(...i)}})}function He(e,t){return Oo(e,t)}function j(e,t){return Ac(e,t)}function w(e,t){const n=He(e,t);return[n,j(n)]}let Sc=!1;const[bn,Md]=kc("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return Sc}}),en=He(0),Io=He(Zn),[ns,Lo]=w({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),$e=j(()=>Lo().tgWebAppVersion);function jc(e){e||(e={});const{postEvent:t}=e,n=e.launchParams||To();ns.set(n),Io.set(typeof t=="function"?t:mc(n.tgWebAppVersion)),bn(!1,"The package was configured. Launch params:",ns())}function Pc(){return en.set(en()+1),en().toString()}function dt(e,t,n){return gc(e,t,Pc(),{...n||{},postEvent:k})}const P=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=k),er(e,t,n)),k=(e,t)=>Io()(e,t);function Tc(e){return j(()=>De(e,$e()))}function qc(e){return t=>t instanceof e}function oe(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,qc(n)]}function je(e){return[e]}const[nr,Bd]=oe("CSSVarsBoundError","CSS variables are already bound"),[No,Fd]=oe("NotAvailableError",je);oe("InvalidEnvError",je);const[Xe,Ud]=oe("FunctionNotAvailableError",je),[ue,Wd]=oe("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[Cc,Vd]=oe("ConcurrentCallError",je),[Oc,Gd]=oe("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[Ic,Hd]=oe("AccessDeniedError",je),[Lc,zd]=oe("FullscreenFailedError",je);oe("ShareMessageError",je);function rs(){return typeof window>"u"}function rr(e,t,n){n||(n={});const{isSupported:r,isMounted:s,isMounting:o,component:a,supports:i}=n||{},u=`${a?`${a}.`:""}${e}()`,c=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function l(y){if(i){const _=i[y];return De(_[0],_[1],$e())}return!0}function f(){if(!c)return;function y(N){return typeof N=="function"?N():De(N,$e())?void 0:`it is unsupported in Mini Apps version ${$e()}`}const _=Array.isArray(c)?c:c.any,C=_.map(y).filter(Boolean);return Array.isArray(c)?C[0]:C.length===_.length?C[C.length-1]:void 0}function p(...y){for(const _ in i)if(i[_][2](...y)&&!l(_))return`option ${_} is not supported in Mini Apps version ${$e()}`}let h;if(i){h={};for(const y in i)h[y]=j(()=>l(y))}const v=j(()=>!f()),q=j(()=>$e()!=="0.0"),E=j(()=>!s||s()),B=j(()=>es()&&!rs()&&q()&&v()&&E());return Object.assign((...y)=>{const _=`Unable to call the ${u} ${a?"method":"function"}:`;if(rs()||!es())throw new Xe(`${_} it can't be called outside Mini Apps`);if(!q())throw new Xe(`${_} the SDK was not initialized. Use the SDK init() function`);const C=f();if(C)throw new Xe(`${_} ${C}`);const N=p(...y);if(N)throw new Xe(`${_} ${N}`);if(!E()){const d=o&&o()?"mounting. Wait for the mount completion":`unmounted. Use the ${a}.mount() method`;throw new Xe(`${_} the component is ${d}`)}return t(...y)},t,{isAvailable:B,ifAvailable(...y){return B()?[!0,t(...y)]:[!1]}},c?{isSupported:v}:{},h?{supports:h}:{})}function Dt(e,t){return t||(t={}),(n,r,s,o)=>rr(n,r,{...t,isSupported:s||t.isSupported,supports:o,component:e})}function we(e,t,n){return Dt(e,{isSupported:n,isMounted:t})}function V(e,t){return Dt(e,{isSupported:t})}const sr="web_app_setup_back_button",Ro="back_button_pressed",Mt="backButton",[ss,Kd]=w(!1),[mn,Jd]=w(!1),Do=we(Mt,mn,sr),or=V(Mt,sr);Do("hide",()=>{ar(!1)});or("mount",()=>{mn()||(ar(ee()&&Z(Mt)||!1),mn.set(!0))});function ar(e){e!==ss()&&(k(sr,{is_visible:e}),X(Mt,e),ss.set(e))}or("onClick",e=>I(Ro,e));or("offClick",e=>{Rt(Ro,e)});Do("show",()=>{ar(!0)});var Nc=Object.defineProperty,Rc=(e,t,n)=>t in e?Nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gn=(e,t,n)=>Rc(e,typeof t!="symbol"?t+"":t,n);function Dc(e){return t=>t instanceof e}function Mo(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Dc(n)]}const[Mc,Bc]=Mo("CancelledError","Promise was canceled"),[Fc,Qd]=Mo("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Bo=Symbol("Resolved");function os(e){return Array.isArray(e)&&e[0]===Bo}function Uc(e){return[Bo,e]}function as(e,t){return e.reject=t.reject,e.abort=t.abort,e}let L=class wn extends Promise{constructor(t,n){let r,s;super((o,a)=>{let i,u;typeof t=="function"?(i=t,u=n):u=t;const c=[],l=d=>(...S)=>{const D=d(...S);return c.forEach(Ye=>Ye()),D},f=new AbortController,{signal:p}=f;s=d=>{!p.aborted&&f.abort(d)};const h=()=>p.reason,v=d=>{const S=()=>{d(h())};p.addEventListener("abort",S,!0);const D=()=>{p.removeEventListener("abort",S,!0)};return c.push(D),D},q=l(d=>{o(d),s(Uc(d))});r=l(d=>{a(d),s(d)}),u||(u={});const{abortSignal:E,rejectOnAbort:B=!0}=u;if(E)if(E.aborted){const{reason:d}=E;if(B)return r(d);s(d)}else{const d=()=>{s(E.reason)};E.addEventListener("abort",d),c.push(()=>{E.removeEventListener("abort",d)})}B&&v(a);const{timeout:y}=u;if(y){const d=setTimeout(()=>{s(new Fc(y))},y);c.push(()=>{clearTimeout(d)})}const _=()=>p.aborted,C=()=>os(h()),N=()=>{const d=h();return os(d)?d[1]:void 0};try{const d=i&&i(q,r,{abortReason:h,abortSignal:p,isAborted:_,isResolved:C,onAborted:v,onResolved:S=>v(()=>{C()&&S(N())}),resolved:N,throwIfAborted(){if(_())throw h()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),gn(this,"abort"),gn(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new wn(async(r,s,o)=>{try{r(await t(o))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new wn((n,r)=>{r(t)})}cancel(){this.abort(new Mc)}catch(t){return this.then(void 0,t)}finally(t){return as(super.finally(t),this)}then(t,n){return as(super.then(t,n),this)}};function is(e,t){return e.resolve=t.resolve,e}let Wc=class kn extends L{constructor(t,n){let r,s;typeof t=="function"?(r=t,s=n):s=t;let o;super((a,i,u)=>{o=a,r&&r(a,i,u)},s),gn(this,"resolve"),this.resolve=o}static fn(t,n){return new kn((r,s,o)=>{try{Promise.resolve(t(o)).then(r,s)}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new kn((n,r)=>{r(t)})}catch(t){return this.then(void 0,t)}finally(t){return is(super.finally(t),this)}then(t,n){return is(super.then(t,n),this)}};function M(e,t,n){n||(n={});const{promise:r,error:s}=n,[o,a]=r?[r,j(r)]:w(),[i,u]=s?[s,j(s)]:w();return[Object.assign((...c)=>{if(o()){const f=new Cc(t);return i.set(f),L.reject(f)}yn(()=>{o.set(e(...c)),i.set(void 0)});let l;return o().catch(f=>{throw l=f,f}).finally(()=>{yn(()=>{o.set(void 0),i.set(l)})})},e),[o,a,j(()=>!!o())],[i,u]]}function ht(e,t,n){const[r,...s]=M(t,`The ${e} component is already mounting`),[o,a]=w(!1);return[(...i)=>o()?L.resolve():r(...i).then(u=>{yn(()=>{o.set(!0),n(u)})}),...s,[o,a]]}const[Fo,Yd]=w({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),us="web_app_biometry_get_info",Vc=rr("requestBiometry",e=>P(us,"biometry_info_received",e),{isSupported:us});function Uo(e){if(!Bc(e))throw e}function Gc(e){const t=e();t&&t.catch(Uo).cancel()}const ut="biometry",ir="web_app_biometry_request_auth",Wo="biometry_info_received",Hc=e=>{Bt(ur(e))};function Vo(){throw new No("Biometry is not available")}function ur(e){let t=!1,n=!1,r="",s=!1,o="",a=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,s=e.access_requested,o=e.type,a=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:o,accessGranted:a,accessRequested:s}}const[zc,Kc,Jc,Go]=ht(ut,e=>{const t=ee()&&Z(ut);return t?L.resolve(t):Vc({abortSignal:e}).then(ur)},e=>{I(Wo,Hc),Bt(e)}),Ho=V(ut,ir),cr=we(ut,Go[0],ir);Ho("mount",zc);const[,Xd,Zd]=Kc,[,eh]=Jc,[th,nh]=Go,[Qc,Yc,Xc]=M(e=>L.fn(async t=>{const n=Fo();n.available||Vo();const r=await P(ir,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:s}=r;return typeof s=="string"&&Bt({...n,token:s}),r},e),"Biometry authentication is already in progress");cr("authenticate",Qc);const[,rh,sh]=Yc,[,oh]=Xc;Ho("openSettings",()=>{k("web_app_biometry_open_settings")});const[Zc,el,tl]=M(e=>L.fn(async t=>{const n=await P("web_app_biometry_request_access",Wo,{...e,...t,params:{reason:(e||{}).reason||""}}).then(ur);return n.available||Vo(),Bt(n),n.accessGranted},e),"Biometry access request is already in progress");cr("requestAccess",Zc);const[,ah,ih]=el,[,uh]=tl;function Bt(e){Fo.set(e),X(ut,e)}cr("updateToken",e=>(e||(e={}),P("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status)));function Ft(e,t){return Dt(e,{isMounted:t})}const ke=Dt,Ut="closingBehavior",[cs,ch]=w(!1),[ls,nl]=w(!1),zo=Ft(Ut,nl),rl=ke(Ut);zo("disableConfirmation",()=>{lr(!1)});zo("enableConfirmation",()=>{lr(!0)});rl("mount",()=>{ls()||(lr(ee()&&Z(Ut)||!1),ls.set(!0))});function lr(e){e!==cs()&&(k("web_app_setup_closing_behavior",{need_confirmation:e}),X(Ut,e),cs.set(e))}function Ko(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function sl(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function ol(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function z(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??ol(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(s==null?void 0:s.message)??e.message??sl(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function ae(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Ko())}}}function Jo(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function al(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var En=class extends Error{constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};function Qo(e,t){return{kind:"validation",type:"check",reference:Qo,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&z(this,"input",n,r),n}}}function Yo(e){return{kind:"transformation",type:"transform",reference:Yo,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Xo(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Zo(e,t){return{kind:"schema",type:"array",reference:Zo,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return ae(this)},"~run"(n,r){var s;const o=n.value;if(Array.isArray(o)){n.typed=!0,n.value=[];for(let a=0;a<o.length;a++){const i=o[a],u=this.item["~run"]({value:i},r);if(u.issues){const c={type:"array",origin:"value",input:o,key:a,value:i};for(const l of u.issues)l.path?l.path.unshift(c):l.path=[c],(s=n.issues)==null||s.push(l);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}}else z(this,"type",n,r);return n}}}function ea(e){return{kind:"schema",type:"date",reference:ea,expects:"Date",async:!1,message:e,get"~standard"(){return ae(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?z(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:z(this,"type",t,n),t}}}function ta(e,t){return{kind:"schema",type:"instance",reference:ta,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return ae(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:z(this,"type",n,r),n}}}function $n(e,t){return{kind:"schema",type:"loose_object",reference:$n,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return ae(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:Xo(i),c=i["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:o,key:a,value:u};for(const f of c.issues)f.path?f.path.unshift(l):f.path=[l],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[a]=c.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(z(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)Jo(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else z(this,"type",n,r);return n}}}function na(e){return{kind:"schema",type:"number",reference:na,expects:"number",async:!1,message:e,get"~standard"(){return ae(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:z(this,"type",t,n),t}}}function ra(e,t){return{kind:"schema",type:"optional",reference:ra,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return ae(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Xo(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function sa(e,t,n){return{kind:"schema",type:"record",reference:sa,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return ae(this)},"~run"(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const u in i)if(Jo(i,u)){const c=i[u],l=this.key["~run"]({value:u},s);if(l.issues){const p={type:"object",origin:"key",input:i,key:u,value:c};for(const h of l.issues)h.path=[p],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}const f=this.value["~run"]({value:c},s);if(f.issues){const p={type:"object",origin:"value",input:i,key:u,value:c};for(const h of f.issues)h.path?h.path.unshift(p):h.path=[p],(a=r.issues)==null||a.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}(!l.typed||!f.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=f.value)}}else z(this,"type",r,s);return r}}}function Q(e){return{kind:"schema",type:"string",reference:Q,expects:"string",async:!1,message:e,get"~standard"(){return ae(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:z(this,"type",t,n),t}}}function fs(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function oa(e,t){return{kind:"schema",type:"union",reference:oa,expects:al(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return ae(this)},"~run"(n,r){let s,o,a;for(const i of this.options){const u=i["~run"]({value:n.value},r);if(u.typed)if(u.issues)o?o.push(u):o=[u];else{s=u;break}else a?a.push(u):a=[u]}if(s)return s;if(o){if(o.length===1)return o[0];z(this,"type",n,r,{issues:fs(o)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];z(this,"type",n,r,{issues:fs(a)})}return n}}}function fr(e,t,n){const r=e["~run"]({value:t},Ko(n));if(r.issues)throw new En(r.issues);return r.value}function mt(...e){return{...e[0],pipe:e,get"~standard"(){return ae(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const il="web_app_invoke_custom_method",vt=V("cloudStorage",il),ul=vt("deleteItem",(e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?dt("deleteStorageValues",{keys:n},t).then():L.resolve()});function cl(e,t){const n=Array.isArray(e)?e:[e];return n.length?dt("getStorageValues",{keys:n},t).then(r=>fr(sa(mt(Q(),Qo(s=>n.includes(s))),Q()),r)):L.resolve(typeof e=="string"?"":{})}vt("getItem",cl);const ll=vt("getKeys",e=>dt("getStorageKeys",{},e).then(t=>fr(Zo(Q()),t)));vt("setItem",(e,t,n)=>dt("saveStorageValue",{key:e,value:t},n).then());vt("clear",e=>ll(e).then(ul));const Wt="web_app_trigger_haptic_feedback",pr=V("hapticFeedback",Wt);pr("impactOccurred",e=>{k(Wt,{type:"impact",impact_style:e})});pr("notificationOccurred",e=>{k(Wt,{type:"notification",notification_type:e})});pr("selectionChanged",()=>{k(Wt,{type:"selection_change"})});const aa="web_app_open_invoice",fl=V("invoice",aa);function pl(e,t,n){let r;if(t==="url"){const{hostname:s,pathname:o}=new URL(e,window.location.href);if(s!=="t.me")throw new ue(`Link has unexpected hostname: ${s}`);const a=o.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!a)throw new ue('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=a}else r=e,n=t;return P(aa,"invoice_closed",{...n,params:{slug:r},capture:s=>r===s.slug}).then(s=>s.status)}const[dl,hl,vl]=M(pl,"Invoice is already opened");fl("open",dl);const[,fh,ph]=hl,[,dh]=vl,ot="locationManager",ia="web_app_check_location",ps="web_app_open_location_settings",xn=He({available:!1,accessGranted:!1,accessRequested:!1});function _l(e){let t=!1,n,r;return e.available&&(t=!0,n=e.access_requested,r=e.access_granted),{available:t,accessGranted:r||!1,accessRequested:n||!1}}const[yl,bl,ml,ua]=ht(ot,e=>{const t=ee()&&Z(ot);return t?L.resolve(t):P("web_app_check_location","location_checked",e).then(_l)},e=>{xn.set(e),X(ot,e)}),ca=V(ot,ia),gl=we(ot,ua[0],ia);ca("mount",yl);const[,hh,vh]=bl,[,_h]=ml,[yh,bh]=ua,[wl,kl,El]=M(e=>P("web_app_request_location","location_requested",e).then(t=>{if(!t.available)throw xn.set({...xn(),available:!1}),new No("Location data tracking is not available");const{available:n,...r}=t;return r}),"Location request is currently in progress");gl("requestLocation",wl);const[,mh,gh]=kl,[,wh]=El;ca("openSettings",()=>{k(ps)},ps);function dr(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=r)}return t}function $l(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}var xl=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function hr(e){return{kind:"transformation",type:"transform",reference:hr,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Al(e,t,n){const r=e["~run"]({value:t},$l(n));if(r.issues)throw new xl(r.issues);return r.value}function Sl(){return hr(JSON.parse)}function jl(e){return hr(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const o=n[s];Array.isArray(o)?o.push(r):o===void 0?n[s]=r:n[s]=[o,r]}),Al(e,n)})}function jt(e){return/^#[\da-f]{6}$/i.test(e)}const[tn,kh]=w(!1),[Ie,Eh]=w({});function _t(e){return j(()=>Ie()[e])}const la=_t("bg_color"),fa=_t("button_color"),Pl=_t("button_text_color"),Tl=_t("bottom_bar_bg_color"),An=_t("secondary_bg_color"),at=He({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),ql=j(()=>{const e=at();return{...e,backgroundColor:e.backgroundColor||fa()||"#2481cc",textColor:e.textColor||Pl()||"#ffffff"}}),[ds,Cl]=w(!1),Ol="web_app_setup_main_button",pa="main_button_pressed",Vt="mainButton",vr=ke(Vt),Il=Ft(Vt,Cl);vr("mount",()=>{if(!ds()){const e=ee()&&Z(Vt);e&&at.set(e),ds.set(!0)}});vr("onClick",e=>I(pa,e));vr("offClick",e=>{Rt(pa,e)});Il("setParams",e=>{at.set({...at(),...dr(e)}),X(Vt,at());const t=ql();t.text&&k(Ol,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function _r(e,t){document.documentElement.style.setProperty(e,t)}function yr(e){document.documentElement.style.removeProperty(e)}const ct="themeParams",Ll="theme_changed",Nl=ke(ct),Rl=({theme_params:e})=>{Ie.set(e),X(ct,e)},[Dl,Ml,Bl,da]=ht(ct,e=>{const t=ee()&&Z(ct);return t?L.resolve(t):P("web_app_request_theme","theme_changed",e).then(n=>n.theme_params)},e=>{I(Ll,Rl),Ie.set(e)}),Fl=Ft(ct,da[0]);Fl("bindCssVars",e=>{if(tn())throw new nr;e||(e=r=>`--tg-theme-${wc(r)}`);function t(r){Object.entries(Ie()).forEach(([s,o])=>{o&&r(s,o)})}function n(){t((r,s)=>{_r(e(r),s)})}return n(),Ie.sub(n),tn.set(!0),()=>{t(yr),Ie.unsub(n),tn.set(!1)}});const Ul=Nl("mount",Dl),[,$h,xh]=Ml,[,Ah]=Bl,[Sh,jh]=da;function ha(e){return j(()=>{const t=e();return jt(t)?t:t==="bg_color"?la():An()})}const[Pt,Ph]=w("bg_color"),Wl=ha(Pt),[Tt,Th]=w("bottom_bar_bg_color"),va=j(()=>{const e=Tt();return jt(e)?e:e==="bottom_bar_bg_color"?Tl()||An():e==="secondary_bg_color"?An():la()}),[qt,qh]=w("bg_color"),Vl=ha(qt),[nn,Ch]=w(!1),[br,Oh]=w(!0),Gl=j(()=>({backgroundColor:Pt(),bottomBarColor:Tt(),headerColor:qt(),isActive:br()})),Sn="web_app_set_background_color",jn="web_app_set_bottom_bar_color",gt="web_app_set_header_color",Hl="visibility_changed",Me="miniApp",_a={any:[Sn,jn,gt]},zl=e=>{br.set(e.is_visible),Ht()},[Kl,Jl,Ql,ya]=ht(Me,e=>Ul(e).then(()=>ee()&&Z(Me)||void 0),e=>{Xl.ifAvailable(e?e.backgroundColor:"bg_color"),Zl.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),ef.ifAvailable(e?e.headerColor:"bg_color"),br.set(e?e.isActive:!0),I(Hl,zl)}),ba=ke(Me),Yl=V(Me,_a),Gt=we(Me,ya[0],_a);Gt("bindCssVars",e=>{if(nn())throw new nr;const[t,n]=tr();function r(s,o){function a(){_r(s,o()||null)}a(),t(o.sub(a),yr.bind(null,s))}return e||(e=s=>`--tg-${qo(s)}`),r(e("bgColor"),Wl),r(e("bottomBarColor"),va),r(e("headerColor"),Vl),t(()=>{nn.set(!1)}),nn.set(!0),n});ba("close",e=>{k("web_app_close",{return_back:e})});Yl("mount",Kl);const[,Ih,Lh]=Jl,[,Nh]=Ql,[Rh,Dh]=ya;ba("ready",()=>{k("web_app_ready")});function Ht(){X(Me,Gl())}const Xl=Gt("setBackgroundColor",e=>{e!==Pt()&&(k(Sn,{color:e}),Pt.set(e),Ht())},Sn),Zl=Gt("setBottomBarColor",e=>{e!==Tt()&&(k(jn,{color:e}),Tt.set(e),Ht())},jn),ef=Gt("setHeaderColor",e=>{e!==qt()&&(k(gt,jt(e)?{color:e}:{color_key:e}),qt.set(e),Ht())},gt,{rgb:[gt,"color",jt]});function tf(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new ue(`Invalid title: ${n}`);if(!t||t.length>256)throw new ue(`Invalid message: ${t}`);if(r.length>3)throw new ue(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((s,o)=>{const a=s.id||"";if(a.length>64)throw new ue(`Button with index ${o} has invalid id: ${a}`);if(!s.type||s.type==="default"||s.type==="destructive"){const i=s.text.trim();if(!i||i.length>64)throw new ue(`Button with index ${o} has invalid text: ${i}`);return{type:s.type,text:i,id:a}}return{type:s.type,id:a}}):[{type:"close",id:""}]}}const mr="web_app_open_popup",nf=V("popup",mr),rf=Tc(mr),[sf,of,af]=M(e=>P(mr,"popup_closed",{...e,params:tf(e)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened"),uf=nf("open",sf),[,cf,lf]=of,[,ff]=af,hs=Object.freeze(Object.defineProperty({__proto__:null,isOpened:lf,isSupported:rf,open:uf,openError:ff,openPromise:cf},Symbol.toStringTag,{value:"Module"})),ma="web_app_close_scan_qr_popup",ga="web_app_open_scan_qr_popup",pf="scan_qr_popup_closed",df="qr_text_received",wa=V("qrScanner",ga);wa("close",()=>{k(ma),Gc(bf)});function hf(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,s]=tr(I(pf,()=>{o.resolve()}),I(df,a=>{t?t(a.data):(!r||r(a.data))&&(o.resolve(a.data),k(ma))})),o=new Wc(e);return(e.postEvent||k)(ga,{text:n}),L.resolve(o).catch(Uo).finally(s)}const[vf,_f,yf]=M(hf,"The QR Scanner is already opened");wa("open",vf);const[,bf,Mh]=_f,[,Bh]=yf,it=He({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),mf=j(()=>{const e=it();return{...e,backgroundColor:e.backgroundColor||va()||"#000000",textColor:e.textColor||fa()||"#2481cc"}}),[vs,gf]=w(!1),gr="web_app_setup_secondary_button",ka="secondary_button_pressed",zt="secondaryButton",wr=V(zt,gr),wf=we(zt,gf,gr);wr("mount",()=>{if(!vs()){const e=ee()&&Z(zt);e&&it.set(e),vs.set(!0)}});wr("onClick",e=>I(ka,e));wr("offClick",e=>{Rt(ka,e)});wf("setParams",e=>{it.set({...it(),...dr(e)}),X(zt,it());const t=mf();t.text&&k(gr,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});const kr="web_app_setup_settings_button",Ea="settings_button_pressed",Kt="settingsButton",[_s,Fh]=w(!1),[Pn,Uh]=w(!1),Er=V(Kt,kr),$a=we(Kt,Pn,kr);$a("hide",()=>{$r(!1)});Er("mount",()=>{Pn()||($r(ee()&&Z(Kt)||!1),Pn.set(!0))});function $r(e){e!==_s()&&(k(kr,{is_visible:e}),X(Kt,e),_s.set(e))}Er("onClick",e=>I(Ea,e));Er("offClick",e=>{Rt(Ea,e)});$a("show",()=>{$r(!0)});const xr="web_app_setup_swipe_behavior",Jt="swipeBehavior",[Tn,Wh]=w(!1),[ys,Vh]=w(!0),kf=V(Jt,xr),xa=we(Jt,Tn,xr);xa("disableVertical",()=>{Ar(!1)});xa("enableVertical",()=>{Ar(!0)});kf("mount",()=>{Tn()||(Ar(ee()&&Z(Jt)||!1,!0),Tn.set(!0))});function Ar(e,t){(e!==ys()||t)&&(k(xr,{allow_vertical_swipe:e}),X(Jt,e),ys.set(e))}const Pe="viewport",Aa="fullscreen_changed",Sa="safe_area_changed",ja="content_safe_area_changed",Pa="viewport_changed",Ta=ke(Pe),bs={left:0,top:0,bottom:0,right:0};function rn(e){return Math.max(e,0)}const[sn,Ef]=w({contentSafeAreaInsets:bs,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:bs,stableHeight:0,width:0});function ze(e){return j(()=>Ef()[e])}const $f=ze("height"),xf=ze("stableHeight"),Af=ze("width");function Ke(e){const{height:t,stableHeight:n,width:r}=e;sn.set({...sn(),...dr({...e,height:t?rn(t):void 0,width:r?rn(r):void 0,stableHeight:n?rn(n):void 0})}),X(Pe,sn())}function Sf(){return Z(Pe)}function Qt(e){return j(()=>qa()[e])}const qa=ze("contentSafeAreaInsets"),jf=Qt("bottom"),Pf=Qt("left"),Tf=Qt("right"),qf=Qt("top");function Yt(e){return j(()=>Ca()[e])}const Ca=ze("safeAreaInsets"),Cf=Yt("bottom"),Of=Yt("left"),If=Yt("right"),Lf=Yt("top"),Oa="web_app_request_safe_area",Ia=V(Pe,Oa),ms=Ia("requestContentSafeAreaInsets",e=>P("web_app_request_content_safe_area",ja,e));function Nf(e){return P("web_app_request_viewport",Pa,e)}const gs=Ia("requestSafeAreaInsets",e=>P(Oa,Sa,e)),Rf=e=>{const{height:t}=e;Ke({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},Df=e=>{Ke({isFullscreen:e.is_fullscreen})},Mf=e=>{Ke({safeAreaInsets:e})},Bf=e=>{Ke({contentSafeAreaInsets:e})},[Ff,Uf,Wf,Vf]=ht(Pe,e=>{const t=ee()&&Sf();return t?L.resolve(t):L.fn(async n=>{const r=await L.all([gs.isAvailable()?gs(n):Ca(),ms.isAvailable()?ms(n):qa()]),s=Lo(),o={contentSafeAreaInsets:r[1],isFullscreen:!!s.tgWebAppFullscreen,safeAreaInsets:r[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(s.tgWebAppPlatform)){const a=window;return{...o,height:a.innerHeight,isExpanded:!0,stableHeight:a.innerHeight,width:a.innerWidth}}return Nf(n).then(a=>({...o,height:a.height,isExpanded:a.is_expanded,stableHeight:a.is_state_stable?a.height:0,width:a.width}))},e)},e=>{I(Pa,Rf),I(Aa,Df),I(Sa,Mf),I(ja,Bf),Ke(e)});Ta("mount",Ff);const[,Gh,Hh]=Uf,[,zh]=Wf,[La,Kh]=Vf,Gf=Ft(Pe,La),[on,Jh]=w(!1);Gf("bindCssVars",e=>{if(on())throw new nr;e||(e=n=>`--tg-viewport-${qo(n)}`);const t=[["height",$f],["stableHeight",xf],["width",Af],["safeAreaInsetTop",Lf],["safeAreaInsetBottom",Cf],["safeAreaInsetLeft",Of],["safeAreaInsetRight",If],["contentSafeAreaInsetTop",qf],["contentSafeAreaInsetBottom",jf],["contentSafeAreaInsetLeft",Pf],["contentSafeAreaInsetRight",Tf]].reduce((n,[r,s])=>{const o=e(r);if(o){const a=()=>{_r(o,`${s()}px`)};n.push([a,s.sub(a),o])}return n},[]);return t.forEach(n=>{n[0]()}),on.set(!0),()=>{t.forEach(n=>{n[1](),yr(n[2])}),on.set(!1)}});Ta("expand",()=>{k("web_app_expand")});const Na="web_app_request_fullscreen",Hf=we(Pe,La,Na),zf=ze("isFullscreen"),[Kf,Qh]=w(),[Jf,Yh]=w();function Ra(e,t){return Hf(e,M(n=>P(t?Na:"web_app_exit_fullscreen",[Aa,"fullscreen_failed"],n).then(r=>{if("error"in r&&r.error!=="ALREADY_FULLSCREEN")throw new Lc(r.error);const s="is_fullscreen"in r?r.is_fullscreen:!0;s!==zf()&&Ke({isFullscreen:s})}),"Fullscreen mode change is already being requested",{promise:Kf,error:Jf})[0])}Ra("requestFullscreen",!0);Ra("exitFullscreen");const Qf="web_app_request_emoji_status_access",[Xh,Yf,Xf]=M(e=>P(Qf,"emoji_status_access_requested",e).then(t=>t.status),"Emoji status access request is already in progress"),[,Zh,ev]=Yf,[,tv]=Xf,Zf="web_app_set_emoji_status",[nv,ep,tp]=M((e,t)=>P(Zf,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(n=>{if(n&&"error"in n)throw new Oc(n.error)}),"Emoji status set request is currently in progress"),[,rv,sv]=ep,[,ov]=tp,np="web_app_check_home_screen",[av,rp,sp]=M(e=>P(np,"home_screen_checked",e).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),[,iv,uv]=rp,[,cv]=sp,op=ke();op("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(n){throw new ue(`"${e.toString()}" is invalid URL`,n)}t||(t={}),k("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})});const ws="web_app_open_tg_link",ap=ke(),qn=ap("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new ue(`"${t}" is invalid URL`);if(!De(ws,$e())){window.location.href=t;return}e=new URL(e),k(ws,{path_full:e.pathname+e.search})}),ip=ke();ip("shareURL",(e,t)=>{qn("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function up(e,t){return new L({abortSignal:t,timeout:e}).catch(()=>{})}const Da="web_app_request_phone",[cp,lp,fp]=M(e=>P(Da,"phone_requested",e).then(t=>t.status),"Phone access request is currently in progress"),pp=rr("requestPhoneAccess",cp,{isSupported:Da}),[,lv,fv]=lp,[,pv]=fp;async function ks(e){const t=await dt("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3});return fr(mt(oa([Q(),ta(URLSearchParams)]),jl($n({contact:mt(Q(),Sl(),$n({user_id:na(),phone_number:Q(),first_name:Q(),last_name:ra(Q())})),auth_date:mt(Q(),Yo(n=>new Date(Number(n)*1e3)),ea()),hash:Q()}))),t)}const[dv,dp,hp]=M(e=>new L(async(t,n,r)=>{try{return t(await ks(r))}catch(o){if(o instanceof En)throw o}if(await pp(r)!=="sent")throw new Ic("User denied access");let s=50;for(;!r.isAborted();){try{return t(await ks(r))}catch(o){if(o instanceof En)throw o}await up(s),s+=50}},e),"Contact is already being requested"),[,hv,vv]=dp,[,_v]=hp,vp="web_app_request_write_access",[yv,_p,yp]=M(e=>P(vp,"write_access_requested",e).then(t=>t.status),"Write access request is currently in progress"),[,bv,mv]=_p,[,gv]=yp;function bp(e){jc(e);const[t,n]=tr(I("reload_iframe",()=>{bn(!1,"Received a request to reload the page"),k("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}={};if(r){const s=document.createElement("style");s.id="telegram-custom-styles",document.head.appendChild(s),t(I("set_custom_style",o=>{s.innerHTML=o}),()=>{document.head.removeChild(s)})}return k("iframe_ready",{reload_supported:!0}),bn(!1,"The package was initialized"),n}var mp=Ue('<div class="svelte-dslvct"><!> <!> <!></div>');function gp(e,t){Mn(t,!1);function n(){qn.isAvailable()&&qn("https://t.me/just_riiin")}async function r(u){hs.open.isAvailable()&&await hs.open({title:"Ты нажал кнопку "+u,message:"Возможно в будущем тут появится функционал",buttons:[{id:"my-id",type:"default",text:"Понятно"}]})}cu();var s=mp(),o=re(s);Ae(o,{value:"Подбросить монетку ведьме",onclick:()=>r("доната")});var a=ce(o,2);Ae(a,{value:"Подписаться",onclick:n});var i=ce(a,2);Ae(i,{value:"Уйти с территории Ликориса",onclick:()=>r("выхода")}),We(e,s),Bn()}var wp=Ue('<div class="svelte-1xk0ce7"><p class="svelte-1xk0ce7"> </p></div>');function kp(e,t){let n=oo(t,"content",3,"");var r=wp(),s=re(r),o=re(s);Fn(()=>Gn(o,n())),We(e,r)}var Ep=Ue('<div class="container svelte-16i2sn8"><div class="tabs svelte-16i2sn8"><!> <!> <!> <!></div> <!></div>');function $p(e){let t={rinaChan:`Ну что попался чертила!
        Я тут главная по пикселям, и ты вообще-то в моих владениях.
        Предлагаю подписаться!
        *Летающая иконка хитро улыбается*`,auto:"тут будет автобиография? автомобили? автозаполнение?",prop:"тут будут прописи? пропсы? проповеди?",history:"тут будет история ликориса (наверное)"},n=Ds("rinaChan");var r=Ep(),s=re(r),o=re(s);Ae(o,{value:"Рина-чан",onclick:()=>qe(n,"rinaChan")});var a=ce(o,2);Ae(a,{value:"Авто.",onclick:()=>qe(n,"auto")});var i=ce(a,2);Ae(i,{value:"Проп.",onclick:()=>qe(n,"prop")});var u=ce(i,2);Ae(u,{value:"История.",onclick:()=>qe(n,"history")});var c=ce(s,2);kp(c,{get content(){return t[pt(n)]}}),We(e,r)}function Ma(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function xp(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function Ap(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function Be(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??Ap(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(s==null?void 0:s.message)??e.message??xp(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function pe(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Ma())}}}function Sp(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var jp=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Sr(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Ba(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Cn(e){return{kind:"schema",type:"boolean",reference:Cn,expects:"boolean",async:!1,message:e,get"~standard"(){return pe(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:Be(this,"type",t,n),t}}}function jr(e){return{kind:"schema",type:"function",reference:jr,expects:"Function",async:!1,message:e,get"~standard"(){return pe(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:Be(this,"type",t,n),t}}}function le(e,t){return{kind:"schema",type:"loose_object",reference:le,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return pe(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:Sr(i),c=i["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:o,key:a,value:u};for(const f of c.issues)f.path?f.path.unshift(l):f.path=[l],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[a]=c.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(Be(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)Sp(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else Be(this,"type",n,r);return n}}}function tt(e,t){return{kind:"schema",type:"nullish",reference:tt,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return pe(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=Sr(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function On(e){return{kind:"schema",type:"number",reference:On,expects:"number",async:!1,message:e,get"~standard"(){return pe(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Be(this,"type",t,n),t}}}function In(e,t){return{kind:"schema",type:"optional",reference:In,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return pe(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Sr(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function xe(e){return{kind:"schema",type:"string",reference:xe,expects:"string",async:!1,message:e,get"~standard"(){return pe(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:Be(this,"type",t,n),t}}}function Fa(){return{kind:"schema",type:"unknown",reference:Fa,expects:"unknown",async:!1,get"~standard"(){return pe(this)},"~run"(e){return e.typed=!0,e}}}function Es(e,t,n){const r=e["~run"]({value:t},Ma(n));if(r.issues)throw new jp(r.issues);return r.value}function Pp(...e){return{...e[0],pipe:e,get"~standard"(){return pe(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Ua(e){return Ba(le({TelegramWebviewProxy:le({postEvent:jr()})}),e)}function Tp(){try{return window.self!==window.top}catch{return!0}}var qp=Object.defineProperty,Cp=(e,t,n)=>t in e?qp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$s=(e,t,n)=>Cp(e,typeof t!="symbol"?t+"":t,n);function Op(e){return t=>t instanceof e}function Wa(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Op(n)]}const[Ip,wv]=Wa("CancelledError","Promise was canceled"),[Lp,kv]=Wa("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Va=Symbol("Resolved");function xs(e){return Array.isArray(e)&&e[0]===Va}function Np(e){return[Va,e]}function As(e,t){return e.reject=t.reject,e.abort=t.abort,e}let Ga=class Ln extends Promise{constructor(t,n){let r,s;super((o,a)=>{let i,u;typeof t=="function"?(i=t,u=n):u=t;const c=[],l=d=>(...S)=>{const D=d(...S);return c.forEach(Ye=>Ye()),D},f=new AbortController,{signal:p}=f;s=d=>{!p.aborted&&f.abort(d)};const h=()=>p.reason,v=d=>{const S=()=>{d(h())};p.addEventListener("abort",S,!0);const D=()=>{p.removeEventListener("abort",S,!0)};return c.push(D),D},q=l(d=>{o(d),s(Np(d))});r=l(d=>{a(d),s(d)}),u||(u={});const{abortSignal:E,rejectOnAbort:B=!0}=u;if(E)if(E.aborted){const{reason:d}=E;if(B)return r(d);s(d)}else{const d=()=>{s(E.reason)};E.addEventListener("abort",d),c.push(()=>{E.removeEventListener("abort",d)})}B&&v(a);const{timeout:y}=u;if(y){const d=setTimeout(()=>{s(new Lp(y))},y);c.push(()=>{clearTimeout(d)})}const _=()=>p.aborted,C=()=>xs(h()),N=()=>{const d=h();return xs(d)?d[1]:void 0};try{const d=i&&i(q,r,{abortReason:h,abortSignal:p,isAborted:_,isResolved:C,onAborted:v,onResolved:S=>v(()=>{C()&&S(N())}),resolved:N,throwIfAborted(){if(_())throw h()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),$s(this,"abort"),$s(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new Ln(async(r,s,o)=>{try{r(await t(o))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Ln((n,r)=>{r(t)})}cancel(){this.abort(new Ip)}catch(t){return this.then(void 0,t)}finally(t){return As(super.finally(t),this)}then(t,n){return As(super.then(t,n),this)}};function Ha(e){return`tapps/${e}`}function Rp(e,t){sessionStorage.setItem(Ha(e),JSON.stringify(t))}function Dp(e){const t=sessionStorage.getItem(Ha(e));try{return t?JSON.parse(t):void 0}catch{}}function Mp(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function Bp(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,o=s===void 0?!0:s,a=typeof o=="boolean"?()=>o:o;function i(u,c,...l){if(c||a()){const f="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${f};background-color: lightblue;color:black`,"",`${f};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...l)}}return[i.bind(void 0,"log"),i.bind(void 0,"error")]}function za(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function Fp(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function Up(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function W(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??Up(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(s==null?void 0:s.message)??e.message??Fp(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function J(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},za())}}}function Ka(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Wp(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Vp=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Ja(e,t){return{kind:"validation",type:"check",reference:Ja,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&W(this,"input",n,r),n}}}function Qa(e){return{kind:"validation",type:"integer",reference:Qa,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&W(this,"integer",t,n),t}}}function ye(e){return{kind:"transformation",type:"transform",reference:ye,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Ya(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Gp(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function nt(e){return{kind:"schema",type:"boolean",reference:nt,expects:"boolean",async:!1,message:e,get"~standard"(){return J(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:W(this,"type",t,n),t}}}function Xa(e){return{kind:"schema",type:"date",reference:Xa,expects:"Date",async:!1,message:e,get"~standard"(){return J(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?W(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:W(this,"type",t,n),t}}}function Za(e,t){return{kind:"schema",type:"instance",reference:Za,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return J(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:W(this,"type",n,r),n}}}function Pr(e){return{kind:"schema",type:"lazy",reference:Pr,expects:"unknown",async:!1,getter:e,get"~standard"(){return J(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Je(e,t){return{kind:"schema",type:"loose_object",reference:Je,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return J(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:Ya(i),c=i["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:o,key:a,value:u};for(const f of c.issues)f.path?f.path.unshift(l):f.path=[l],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[a]=c.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(W(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)Ka(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else W(this,"type",n,r);return n}}}function Tr(e){return{kind:"schema",type:"number",reference:Tr,expects:"number",async:!1,message:e,get"~standard"(){return J(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:W(this,"type",t,n),t}}}function x(e,t){return{kind:"schema",type:"optional",reference:x,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return J(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Ya(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function ei(e,t,n){return{kind:"schema",type:"record",reference:ei,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return J(this)},"~run"(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const u in i)if(Ka(i,u)){const c=i[u],l=this.key["~run"]({value:u},s);if(l.issues){const p={type:"object",origin:"key",input:i,key:u,value:c};for(const h of l.issues)h.path=[p],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}const f=this.value["~run"]({value:c},s);if(f.issues){const p={type:"object",origin:"value",input:i,key:u,value:c};for(const h of f.issues)h.path?h.path.unshift(p):h.path=[p],(a=r.issues)==null||a.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}(!l.typed||!f.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=f.value)}}else W(this,"type",r,s);return r}}}function m(e){return{kind:"schema",type:"string",reference:m,expects:"string",async:!1,message:e,get"~standard"(){return J(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:W(this,"type",t,n),t}}}function Ss(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function ti(e,t){return{kind:"schema",type:"union",reference:ti,expects:Wp(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return J(this)},"~run"(n,r){let s,o,a;for(const i of this.options){const u=i["~run"]({value:n.value},r);if(u.typed)if(u.issues)o?o.push(u):o=[u];else{s=u;break}else a?a.push(u):a=[u]}if(s)return s;if(o){if(o.length===1)return o[0];W(this,"type",n,r,{issues:Ss(o)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];W(this,"type",n,r,{issues:Ss(a)})}return n}}}function ni(){return{kind:"schema",type:"unknown",reference:ni,expects:"unknown",async:!1,get"~standard"(){return J(this)},"~run"(e){return e.typed=!0,e}}}function ri(e,t,n){const r=e["~run"]({value:t},za(n));if(r.issues)throw new Vp(r.issues);return r.value}function be(...e){return{...e[0],pipe:e,get"~standard"(){return J(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Hp(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function zp(e){return Object.entries(e).reduce((t,[n,r])=>(t[Hp(n)]=r,t),{})}function Nn(e){const t=zp(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Nn):Nn(r))}return t}function qr(e){return ye(t=>e?Nn(t):t)}function si(e){return t=>be(e,qr(t))}function Kp(e){return(t,n)=>ri(be(e,qr(n)),t)}function oi(){return ye(JSON.parse)}function Cr(e){const t=si(e);return n=>be(m(),oi(),t(n))}function Jp(e){return ye(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const o=n[s];Array.isArray(o)?o.push(r):o===void 0?n[s]=r:n[s]=[o,r]}),ri(e,n)})}function ai(e){return t=>be(ti([m(),Za(URLSearchParams)]),Jp(e),qr(t))}const js=x(Pr(()=>ed())),Qp=Je({id:Tr(),photo_url:x(m()),type:m(),title:m(),username:x(m())}),Yp=Je({added_to_attachment_menu:x(nt()),allows_write_to_pm:x(nt()),first_name:m(),id:Tr(),is_bot:x(nt()),is_premium:x(nt()),last_name:x(m()),language_code:x(m()),photo_url:x(m()),username:x(m())}),Xp=Je({auth_date:be(m(),ye(e=>new Date(Number(e)*1e3)),Xa()),can_send_after:x(be(m(),ye(Number),Qa())),chat:x(Pr(()=>Zp())),chat_type:x(m()),chat_instance:x(m()),hash:m(),query_id:x(m()),receiver:js,start_param:x(m()),signature:m(),user:js}),Zp=Cr(Qp),ed=Cr(Yp),td=ai(Xp);function nd(e){return/^#[\da-f]{6}$/i.test(e)}const rd=si(ei(m(),be(m(),Ja(nd),ye(e=>e)))),an=x(be(m(),ye(e=>e==="1"))),Ps=Cr(rd()),sd=Je({tgWebAppBotInline:an,tgWebAppData:x(td()),tgWebAppDefaultColors:x(Ps()),tgWebAppFullscreen:an,tgWebAppPlatform:m(),tgWebAppShowSettings:an,tgWebAppStartParam:x(m()),tgWebAppThemeParams:Ps(),tgWebAppVersion:m()}),ii=ai(sd),od=Kp(ii()),ad=Je({eventType:m(),eventData:x(ni())});function id(e){try{return Gp(ii(),e)}catch{return!1}}function ud(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}function cd(e,t){const n=ud(),r=new Map,s=(o,a,i)=>{i||(i=!1);const u=r.get(o)||new Map;r.set(o,u);const c=u.get(a)||[];u.set(a,c);const l=c.findIndex(f=>f[1]===i);l>=0&&(n.off(o,c[l][0]),c.splice(l,1),!c.length&&u.delete(a),u.size||(r.delete(o),!r.size&&t()))};return[function(o,a,i){!r.size&&e();function u(){s(o,a,i)}function c(...p){i&&u(),o==="*"?a(p):a(...p)}n.on(o,c);const l=r.get(o)||new Map;r.set(o,l);const f=l.get(a)||[];return l.set(a,f),f.push([c,i||!1]),u},s,n.emit,function(){const o=n.all.size;n.all.clear(),r.clear(),o&&t()}]}function Ts(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let ld=!1;const[fd,pd]=Bp("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return ld}}),dd={clipboard_text_received:le({req_id:xe(),data:tt(xe())}),custom_method_invoked:le({req_id:xe(),result:In(Fa()),error:In(xe())}),popup_closed:tt(le({button_id:tt(xe(),()=>{})}),{}),viewport_changed:le({height:On(),width:tt(On(),()=>window.innerWidth),is_state_stable:Cn(),is_expanded:Cn()})};function qs(e){if(e.source!==window.parent)return;let t;try{t=Es(Pp(xe(),oi(),ad),e.data)}catch{return}const{eventType:n,eventData:r}=t,s=dd[n];try{const o=s?Es(s,r):r;vd(n,o)}catch(o){pd(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,o)}}const[hd,Ev,vd,$v]=cd(()=>{const e=window,t={receiveEvent:Ts};e.TelegramGameProxy_receiveEvent=Ts,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",qs)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",qs)});function _d(e){return t=>t instanceof e}function Qe(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,_d(n)]}Qe("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]);Qe("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]);const yd=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[bd,xv]=Qe("LaunchParamsRetrieveError",yd);Qe("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]);const[md,Av]=Qe("UnknownEnvError");Qe("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]);function gd(e,t){t()}function wd(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const o=c=>{if(!n(s,c)){const l=s;s=c,gd(u,()=>{[...r].forEach(([f,p])=>{f(c,l),p&&i(f,!0)})})}};function a(c){const l=typeof c!="object"?{once:c}:c;return{once:l.once||!1,signal:l.signal||!1}}const i=(c,l)=>{const f=a(l),p=r.findIndex(([h,v])=>h===c&&v.once===f.once&&v.signal===f.signal);p>=0&&r.splice(p,1)},u=Object.assign(function(){return kd(u),s},{destroy(){r=[]},set:o,reset(){o(e)},sub(c,l){return r.push([c,a(l)]),()=>i(c,l)},unsub:i,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const un=[];function kd(e){un.length&&un[un.length-1].add(e)}const Ed=wd("https://web.telegram.org");function $d(e,t){fd(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(Tp())return n.parent.postMessage(r,Ed());if(Ua(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(Ba(le({external:le({notify:jr()})}),n)){n.external.notify(r);return}throw new md}function xd(e,t,n){n||(n={});const{capture:r}=n,[s,o]=Mp();return new Ga(a=>{(Array.isArray(t)?t:[t]).forEach(i=>{s(hd(i,u=>{(!r||(Array.isArray(t)?r({event:i,payload:u}):r(u)))&&a(u)}))}),(n.postEvent||$d)(e,n.params)},n).finally(o)}const Cs="launchParams";function Os(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function Ad(){for(const e of[()=>Os(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&Os(t.name)},()=>Dp(Cs)]){const t=e();if(t&&id(t))return Rp(Cs,t),t}throw new bd}function Sd(e){return od(Ad())}function jd(e,t){try{return Sd(),!0}catch{return!1}return Ga.fn(async n=>{if(Ua(window))return!0;try{return await xd("web_app_request_theme","theme_changed",n),!0}catch{return!1}},{timeout:100})}var Pd=Ue('<main class="svelte-1k1q5o4"> <div class="top-container svelte-1k1q5o4"><!> <!></div> <!></main>');function Td(e,t){Mn(t,!0);async function n(){await jd()?(console.log("It's Telegram Mini Apps"),qe(r,"It's Telegram Mini Apps"),bp()):(console.log("It's NOT Telegram Mini Apps"),qe(r,"It's NOT Telegram Mini Apps"))}let r=Ds("not seted");n();var s=Pd(),o=re(s),a=ce(o),i=re(a);du(i);var u=ce(i,2);gp(u,{});var c=ce(a,2);$p(c),Fn(()=>Gn(o,`${pt(r)??""} `)),We(e,s),Bn()}ou(Td,{target:document.getElementById("app")});
