(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Sr=!1;var Qa=Array.isArray,Xa=Array.prototype.indexOf,Ya=Array.from,Za=Object.defineProperty,Pr=Object.getOwnPropertyDescriptor;const X=2,ks=4,On=8,In=16,$e=32,ct=64,bt=128,Q=256,gt=512,G=1024,me=2048,Be=4096,wt=8192,qt=16384,ei=32768,ti=65536,ni=1<<19,Es=1<<20;function xs(e){return e===this.v}function ri(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function si(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function oi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ln=!1,ai=!1;function ii(){Ln=!0}const ui=2;let F=null;function jr(e){F=e}function $s(e,t=!1,n){F={p:F,c:null,e:null,m:!1,s:e,x:null,l:null},Ln&&!t&&(F.l={s:null,u:null,r1:[],r2:Ss(!1)})}function As(e){const t=F;if(t!==null){const a=t.e;if(a!==null){var n=P,r=$;t.e=null;try{for(var s=0;s<a.length;s++){var o=a[s];Ne(o.effect),Le(o.reaction),mi(o.fn)}}finally{Ne(n),Le(r)}}F=t.p,t.m=!0}return{}}function Ct(){return!Ln||F!==null&&F.l===null}function Ss(e,t){var n={f:0,v:e,reactions:null,equals:xs,rv:0,wv:0};return n}function Ps(e){return li(Ss(e))}function li(e){return $!==null&&!Oe&&$.f&X&&(ne===null?xi([e]):ne.push(e)),e}function qe(e,t){return $!==null&&!Oe&&Ct()&&$.f&(X|In)&&(ne===null||!ne.includes(e))&&oi(),ci(e,t)}function ci(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Fs(),js(e,me),Ct()&&P!==null&&P.f&G&&!(P.f&($e|ct))&&(ie===null?$i([e]):ie.push(e))),t}function js(e,t){var n=e.reactions;if(n!==null)for(var r=Ct(),s=n.length,o=0;o<s;o++){var a=n[o],i=a.f;i&me||!r&&a===P||(de(a,t),i&(G|Q)&&(i&X?js(a,Be):Dn(a)))}}var qr,qs,Cs;function fi(){if(qr===void 0){qr=window;var e=Element.prototype,t=Node.prototype;qs=Pr(t,"firstChild").get,Cs=Pr(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function pi(e=""){return document.createTextNode(e)}function Ts(e){return qs.call(e)}function Os(e){return Cs.call(e)}function re(e,t){return Ts(e)}function le(e,t=1,n=!1){let r=e;for(;t--;)r=Os(r);return r}function di(e){var t=X|me,n=$!==null&&$.f&X?$:null;return P===null||n!==null&&n.f&Q?t|=Q:P.f|=Es,{ctx:F,deps:null,effects:null,equals:xs,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??P}}function Is(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)xe(t[n])}}function hi(e){for(var t=e.parent;t!==null;){if(!(t.f&X))return t;t=t.parent}return null}function vi(e){var t,n=P;Ne(hi(e));try{Is(e),t=Vs(e)}finally{Ne(n)}return t}function Ls(e){var t=vi(e),n=(pe||e.f&Q)&&e.deps!==null?Be:G;de(e,n),e.equals(t)||(e.v=t,e.wv=Fs())}function _i(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Tt(e,t,n,r=!0){var s=(e&ct)!==0,o=P,a={ctx:F,deps:null,nodes_start:null,nodes_end:null,f:e|me,first:null,fn:t,last:null,next:null,parent:s?null:o,prev:null,teardown:null,transitions:null,wv:0};if(n){var i=Te;try{Cr(!0),Rn(a),a.f|=ei}catch(c){throw xe(a),c}finally{Cr(i)}}else t!==null&&Dn(a);var u=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Es|bt))===0;if(!u&&!s&&r&&(o!==null&&_i(a,o),$!==null&&$.f&X)){var l=$;(l.effects??(l.effects=[])).push(a)}return a}function yi(e){const t=Tt(ct,e,!0);return(n={})=>new Promise(r=>{n.outro?ki(t,()=>{xe(t),r(void 0)}):(xe(t),r(void 0))})}function mi(e){return Tt(ks,e,!1)}function Nn(e,t=[],n=di){const r=t.map(n);return bi(()=>e(...r.map(Mn)))}function bi(e,t=0){return Tt(On|In|t,e,!0)}function gi(e,t=!0){return Tt(On|$e,e,!0,t)}function Ns(e){var t=e.teardown;if(t!==null){const n=$;Le(null);try{t.call(null)}finally{Le(n)}}}function Rs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;xe(n,t),n=r}}function wi(e){for(var t=e.first;t!==null;){var n=t.next;t.f&$e||xe(t),t=n}}function xe(e,t=!0){var n=!1;if((t||e.f&ni)&&e.nodes_start!==null){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var o=r===s?null:Os(r);r.remove(),r=o}n=!0}Rs(e,t&&!n),$t(e,0),de(e,qt);var a=e.transitions;if(a!==null)for(const u of a)u.stop();Ns(e);var i=e.parent;i!==null&&i.first!==null&&Ds(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ds(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function ki(e,t){var n=[];Ms(e,n,!0),Ei(n,()=>{xe(e),t&&t()})}function Ei(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function Ms(e,t,n){if(!(e.f&wt)){if(e.f^=wt,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var s=r.next,o=(r.f&ti)!==0||(r.f&$e)!==0;Ms(r,t,o?n:!1),r=s}}}let _t=!1,kt=!1,Et=null,Te=!1;function Cr(e){Te=e}let an=[],nt=0;let $=null,Oe=!1;function Le(e){$=e}let P=null;function Ne(e){P=e}let ne=null;function xi(e){ne=e}let N=null,B=0,ie=null;function $i(e){ie=e}let Bs=1,xt=0,pe=!1;function Fs(){return++Bs}function Ot(e){var f;var t=e.f;if(t&me)return!0;if(t&Be){var n=e.deps,r=(t&Q)!==0;if(n!==null){var s,o,a=(t&gt)!==0,i=r&&P!==null&&!pe,u=n.length;if(a||i){var l=e,c=l.parent;for(s=0;s<u;s++)o=n[s],(a||!((f=o==null?void 0:o.reactions)!=null&&f.includes(l)))&&(o.reactions??(o.reactions=[])).push(l);a&&(l.f^=gt),i&&c!==null&&!(c.f&Q)&&(l.f^=Q)}for(s=0;s<u;s++)if(o=n[s],Ot(o)&&Ls(o),o.wv>e.wv)return!0}(!r||P!==null&&!pe)&&de(e,G)}return!1}function Ai(e,t){for(var n=t;n!==null;){if(n.f&bt)try{n.fn(e);return}catch{n.f^=bt}n=n.parent}throw _t=!1,e}function Si(e){return(e.f&qt)===0&&(e.parent===null||(e.parent.f&bt)===0)}function It(e,t,n,r){if(_t){if(n===null&&(_t=!1),Si(t))throw e;return}n!==null&&(_t=!0);{Ai(e,t);return}}function Us(e,t,n=0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];o.f&X?Us(o,t,n+1):t===o&&(n===0?de(o,me):o.f&G&&de(o,Be),Dn(o))}}function Vs(e){var h;var t=N,n=B,r=ie,s=$,o=pe,a=ne,i=F,u=Oe,l=e.f;N=null,B=0,ie=null,$=l&($e|ct)?null:e,pe=(l&Q)!==0&&(!Te||s===null||u),ne=null,jr(e.ctx),Oe=!1,xt++;try{var c=(0,e.fn)(),f=e.deps;if(N!==null){var p;if($t(e,B),f!==null&&B>0)for(f.length=B+N.length,p=0;p<N.length;p++)f[B+p]=N[p];else e.deps=f=N;if(!pe)for(p=B;p<f.length;p++)((h=f[p]).reactions??(h.reactions=[])).push(e)}else f!==null&&B<f.length&&($t(e,B),f.length=B);if(Ct()&&ie!==null&&!(e.f&(X|Be|me)))for(p=0;p<ie.length;p++)Us(ie[p],e);return s!==null&&xt++,c}finally{N=t,B=n,ie=r,$=s,pe=o,ne=a,jr(i),Oe=u}}function Pi(e,t){let n=t.reactions;if(n!==null){var r=Xa.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&t.f&X&&(N===null||!N.includes(t))&&(de(t,Be),t.f&(Q|gt)||(t.f^=gt),Is(t),$t(t,0))}function $t(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Pi(e,n[r])}function Rn(e){var t=e.f;if(!(t&qt)){de(e,G);var n=P,r=F;P=e;try{t&In?wi(e):Rs(e),Ns(e);var s=Vs(e);e.teardown=typeof s=="function"?s:null,e.wv=Bs;var o=e.deps,a;Sr&&ai&&e.f&me}catch(i){It(i,e,n,r||e.ctx)}finally{P=n}}}function ji(){if(nt>1e3){nt=0;try{ri()}catch(e){if(Et!==null)It(e,Et,null);else throw e}}nt++}function qi(e){var t=e.length;if(t!==0){ji();var n=Te;Te=!0;try{for(var r=0;r<t;r++){var s=e[r];s.f&G||(s.f^=G);var o=[];Ws(s,o),Ci(o)}}finally{Te=n}}}function Ci(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(qt|wt)))try{Ot(r)&&(Rn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Ds(r):r.fn=null))}catch(s){It(s,r,null,r.ctx)}}}function Ti(){if(kt=!1,nt>1001)return;const e=an;an=[],qi(e),kt||(nt=0,Et=null)}function Dn(e){kt||(kt=!0,queueMicrotask(Ti)),Et=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(ct|$e)){if(!(n&G))return;t.f^=G}}an.push(t)}function Ws(e,t){var n=e.first,r=[];e:for(;n!==null;){var s=n.f,o=(s&$e)!==0,a=o&&(s&G)!==0,i=n.next;if(!a&&!(s&wt))if(s&On){if(o)n.f^=G;else{var u=$;try{$=n,Ot(n)&&Rn(n)}catch(p){It(p,n,null,n.ctx)}finally{$=u}}var l=n.first;if(l!==null){n=l;continue}}else s&ks&&r.push(n);if(i===null){let p=n.parent;for(;p!==null;){if(e===p)break e;var c=p.next;if(c!==null){n=c;continue e}p=p.parent}}n=i}for(var f=0;f<r.length;f++)l=r[f],t.push(l),Ws(l,t)}function Mn(e){var t=e.f,n=(t&X)!==0;if($!==null&&!Oe){ne!==null&&ne.includes(e)&&si();var r=$.deps;e.rv<xt&&(e.rv=xt,N===null&&r!==null&&r[B]===e?B++:N===null?N=[e]:(!pe||!N.includes(e))&&N.push(e))}else if(n&&e.deps===null&&e.effects===null){var s=e,o=s.parent;o!==null&&!(o.f&Q)&&(s.f^=Q)}return n&&(s=e,Ot(s)&&Ls(s)),e.v}const Oi=-7169;function de(e,t){e.f=e.f&Oi|t}const Ii=["touchstart","touchmove"];function Li(e){return Ii.includes(e)}const Gs=new Set,un=new Set;function Ni(e){for(var t=0;t<e.length;t++)Gs.add(e[t]);for(var n of un)n(e)}function vt(e){var y;var t=this,n=t.ownerDocument,r=e.type,s=((y=e.composedPath)==null?void 0:y.call(e))||[],o=s[0]||e.target,a=0,i=e.__root;if(i){var u=s.indexOf(i);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var l=s.indexOf(t);if(l===-1)return;u<=l&&(a=u)}if(o=s[a]||e.target,o!==t){Za(e,"currentTarget",{configurable:!0,get(){return o||n}});var c=$,f=P;Le(null),Ne(null);try{for(var p,h=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var q=o["__"+r];if(q!==void 0&&!o.disabled)if(Qa(q)){var[k,...M]=q;k.apply(o,[e,...M])}else q.call(o,e)}catch(_){p?h.push(_):p=_}if(e.cancelBubble||v===t||v===null)break;o=v}if(p){for(let _ of h)queueMicrotask(()=>{throw _});throw p}}finally{e.__root=t,delete e.currentTarget,Le(c),Ne(f)}}}function Ri(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Di(e,t){var n=P;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Fe(e,t){var n=(t&ui)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=Ri(s?e:"<!>"+e),r=Ts(r));var o=n?document.importNode(r,!0):r.cloneNode(!0);return Di(o,o),o}}function Ue(e,t){e!==null&&e.before(t)}function Bn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Mi(e,t){return Bi(e,t)}const Pe=new Map;function Bi(e,{target:t,anchor:n,props:r={},events:s,context:o,intro:a=!0}){fi();var i=new Set,u=f=>{for(var p=0;p<f.length;p++){var h=f[p];if(!i.has(h)){i.add(h);var v=Li(h);t.addEventListener(h,vt,{passive:v});var q=Pe.get(h);q===void 0?(document.addEventListener(h,vt,{passive:v}),Pe.set(h,1)):Pe.set(h,q+1)}}};u(Ya(Gs)),un.add(u);var l=void 0,c=yi(()=>{var f=n??t.appendChild(pi());return gi(()=>{if(o){$s({});var p=F;p.c=o}s&&(r.$$events=s),l=e(f,r)||{},o&&As()}),()=>{var v;for(var p of i){t.removeEventListener(p,vt);var h=Pe.get(p);--h===0?(document.removeEventListener(p,vt),Pe.delete(p)):Pe.set(p,h)}un.delete(u),f!==n&&((v=f.parentNode)==null||v.removeChild(f))}});return Fi.set(l,c),l}let Fi=new WeakMap;function Ui(e,t,n,r){var s=e.__attributes??(e.__attributes={});s[t]!==(s[t]=n)&&e.setAttribute(t,n)}function Hs(e,t,n,r){var s;s=e[t];var o=r,a=!0,i=()=>(a&&(a=!1,o=r),o);s===void 0&&r!==void 0&&(s=i());var u;return u=()=>{var l=e[t];return l===void 0?i():(a=!0,l)},u}const Vi="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Vi);ii();const Wi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA4lJREFUWIWtV79LW1EU/u7jaRGtUm5sVOwgolAhGQQp1kUhk4vUoTh0E/onmL+gQ/IviFuHDqWlizgE2kUKDRQxUENKcFBMbF4QU0No1NwOybmed3NfEku/5XnfPed85/eLAgGQUip2FOVyOUg0EL3YEEEKsYGQfp+qeT6dTs7c14bgip8ePcF+/VpLJatFbA2O4XvjxjRkdUJKqTjpvONqG4Sl/j6sXZxoGw4n50hWiwg7rkhWi5h3XKRqHuYdl6JSUkorOZflNjhaXEpKCcHJ9+vXIOGw44rzu8hV66woIzwTnJxIzxs3yrQBAFuDY1jq7wMArF2cNDPAycOOKwCI88YNyuUyWqkmQzojLBM2cthskD4vs0vkBFLi4GcppUhWi7y7kap5SLGs2fqD3lHpiNPlQluDY0hWi1RfYRBr0vjCdBsBACTSecVIrPq8IQFAtIQVv+A1Rqt2QaRBSKTzmgOALhOByiWYx8o2ckScOa1gt1Dq6kgincfq+Cgik8P6bBtNKhffA6BoYwMhK/ns0DBePB3t6MDHoxJyVxWrE7SMeK/oKeCdyskBaPJeMTs0jN1CSZ9Xx0eRqnl4KPwTBuDOAeaEii9MI3Na0dETukVvynDd+MI0fqsbxXjaHZBSKrPG942ewLNApWjZ9m1Rx6LrUyL0Ev2/yLqAnlHRRfa/gjgdKaXKJF4CRu05clfNdzTb/Gl7x3VMUBmIs/k1XH3d0dv3r54hkc5bn53uOMzAiNO3ioPwPP4GZ/Hm3+bT9k7fvY11td3WhGbzcSwvrmN5cf1e9xR5kN3AKQCAneNLhEIhRFc2AABfvn7QRDZyLhNd2UAoFMK3a9UmCwATkRiiczNC8BXMV29kchg7x5c+pcPP7zr5q0EOEzanRnznVqMKAHDYCtYw05XNZuF5XpvhIHLP85DNZtvuzEbU34KgX7mbUyPwvLtfs92cIHIuz6O39YGvBz4eldDpDHQuQ68lCnSAk3LyeuHAF1k3eJ6HeuGgzY7tbJ0CW+T1wgHOMqmu5GeZlCY37dnsdhxDwu32Hm639wA0xycIdMflTSdM8E0oclcVxT+9tn1+lkkFOmHLUO6qAtPmA8cRfxqNJikXllLaHBAAVC/p55iIxBB5HBaZX+dWmzR5PX0LAIiJSEyvtCBneGaiczPi8MfP7ob5gW9FADpVrX+/uKh1v5qkTM9qEwD+ApK5TteY7A5gAAAAAElFTkSuQmCC";var Gi=Fe('<div class="svelte-1ey3w1g"><img alt="profile pic" class="svelte-1ey3w1g"></div>');function Hi(e){var t=Gi(),n=re(t);Ui(n,"src",Wi),Ue(e,t)}var zi=Fe('<div><button class="svelte-lgvdmu"> </button></div>');function Ee(e,t){let n=Hs(t,"value",3,"подписаться");var r=zi(),s=re(r);s.__click=function(...a){var i;(i=t.onclick)==null||i.apply(this,a)};var o=re(s);Nn(()=>Bn(o,n())),Ue(e,r)}Ni(["click"]);var Ki=Fe('<div class="svelte-dslvct"><!> <!> <!></div>');function Ji(e){var t=Ki(),n=re(t);Ee(n,{value:"Подбросить монетку ведьме",onclick:()=>{}});var r=le(n,2);Ee(r,{value:"Подписаться",onclick:()=>{}});var s=le(r,2);Ee(s,{value:"Уйти с территории Ликориса",onclick:()=>{}}),Ue(e,t)}var Qi=Fe('<div class="svelte-1xk0ce7"><p class="svelte-1xk0ce7"> </p></div>');function Xi(e,t){let n=Hs(t,"content",3,"");var r=Qi(),s=re(r),o=re(s);Nn(()=>Bn(o,n())),Ue(e,r)}var Yi=Fe('<div class="container svelte-16i2sn8"><div class="tabs svelte-16i2sn8"><!> <!> <!> <!></div> <!></div>');function Zi(e){let t={rinaChan:`Ну что попался чертила!
        Я тут главная по пикселям, и ты вообще-то в моих владениях.
        Предлагаю подписаться!
        *Летающая иконка хитро улыбается*`,auto:"тут будет автобиография? автомобили? автозаполнение?",prop:"тут будут прописи? пропсы? проповеди?",history:"тут будет история ликориса (наверное)"},n=Ps("rinaChan");var r=Yi(),s=re(r),o=re(s);Ee(o,{value:"Рина-чан",onclick:()=>qe(n,"rinaChan")});var a=le(o,2);Ee(a,{value:"Авто.",onclick:()=>qe(n,"auto")});var i=le(a,2);Ee(i,{value:"Проп.",onclick:()=>qe(n,"prop")});var u=le(i,2);Ee(u,{value:"История.",onclick:()=>qe(n,"history")});var l=le(s,2);Xi(l,{get content(){return t[Mn(n)]}}),Ue(e,r)}function zs(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function eu(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function tu(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function Re(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??tu(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",c=(s==null?void 0:s.message)??e.message??eu(e.reference,u.lang)??(l?(u.lang,void 0):null)??r.message??(u.lang,void 0);c&&(u.message=typeof c=="function"?c(u):c),l&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function se(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},zs())}}}function nu(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var ru=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Fn(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Un(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Ks(){return{kind:"schema",type:"any",reference:Ks,expects:"any",async:!1,get"~standard"(){return se(this)},"~run"(e){return e.typed=!0,e}}}function ln(e){return{kind:"schema",type:"boolean",reference:ln,expects:"boolean",async:!1,message:e,get"~standard"(){return se(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:Re(this,"type",t,n),t}}}function Vn(e){return{kind:"schema",type:"function",reference:Vn,expects:"Function",async:!1,message:e,get"~standard"(){return se(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:Re(this,"type",t,n),t}}}function te(e,t){return{kind:"schema",type:"loose_object",reference:te,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return se(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:Fn(i),l=i["~run"]({value:u},r);if(l.issues){const c={type:"object",origin:"value",input:o,key:a,value:u};for(const f of l.issues)f.path?f.path.unshift(c):f.path=[c],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(Re(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)nu(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else Re(this,"type",n,r);return n}}}function Ye(e,t){return{kind:"schema",type:"nullish",reference:Ye,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return se(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=Fn(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function cn(e){return{kind:"schema",type:"number",reference:cn,expects:"number",async:!1,message:e,get"~standard"(){return se(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Re(this,"type",t,n),t}}}function fn(e,t){return{kind:"schema",type:"optional",reference:fn,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return se(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Fn(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function we(e){return{kind:"schema",type:"string",reference:we,expects:"string",async:!1,message:e,get"~standard"(){return se(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:Re(this,"type",t,n),t}}}function Js(){return{kind:"schema",type:"unknown",reference:Js,expects:"unknown",async:!1,get"~standard"(){return se(this)},"~run"(e){return e.typed=!0,e}}}function Tr(e,t,n){const r=e["~run"]({value:t},zs(n));if(r.issues)throw new ru(r.issues);return r.value}function su(...e){return{...e[0],pipe:e,get"~standard"(){return se(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Qs(e){return Un(te({TelegramWebviewProxy:te({postEvent:Vn()})}),e)}function ou(){try{return window.self!==window.top}catch{return!0}}var au=Object.defineProperty,iu=(e,t,n)=>t in e?au(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Or=(e,t,n)=>iu(e,typeof t!="symbol"?t+"":t,n);function uu(e){return t=>t instanceof e}function Xs(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,uu(n)]}const[lu,od]=Xs("CancelledError","Promise was canceled"),[cu,ad]=Xs("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Ys=Symbol("Resolved");function Ir(e){return Array.isArray(e)&&e[0]===Ys}function fu(e){return[Ys,e]}function Lr(e,t){return e.reject=t.reject,e.abort=t.abort,e}let Zs=class pn extends Promise{constructor(t,n){let r,s;super((o,a)=>{let i,u;typeof t=="function"?(i=t,u=n):u=t;const l=[],c=d=>(...A)=>{const R=d(...A);return l.forEach(Qe=>Qe()),R},f=new AbortController,{signal:p}=f;s=d=>{!p.aborted&&f.abort(d)};const h=()=>p.reason,v=d=>{const A=()=>{d(h())};p.addEventListener("abort",A,!0);const R=()=>{p.removeEventListener("abort",A,!0)};return l.push(R),R},q=c(d=>{o(d),s(fu(d))});r=c(d=>{a(d),s(d)}),u||(u={});const{abortSignal:k,rejectOnAbort:M=!0}=u;if(k)if(k.aborted){const{reason:d}=k;if(M)return r(d);s(d)}else{const d=()=>{s(k.reason)};k.addEventListener("abort",d),l.push(()=>{k.removeEventListener("abort",d)})}M&&v(a);const{timeout:y}=u;if(y){const d=setTimeout(()=>{s(new cu(y))},y);l.push(()=>{clearTimeout(d)})}const _=()=>p.aborted,C=()=>Ir(h()),L=()=>{const d=h();return Ir(d)?d[1]:void 0};try{const d=i&&i(q,r,{abortReason:h,abortSignal:p,isAborted:_,isResolved:C,onAborted:v,onResolved:A=>v(()=>{C()&&A(L())}),resolved:L,throwIfAborted(){if(_())throw h()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),Or(this,"abort"),Or(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new pn(async(r,s,o)=>{try{r(await t(o))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new pn((n,r)=>{r(t)})}cancel(){this.abort(new lu)}catch(t){return this.then(void 0,t)}finally(t){return Lr(super.finally(t),this)}then(t,n){return Lr(super.then(t,n),this)}};function eo(e){return`tapps/${e}`}function pu(e,t){sessionStorage.setItem(eo(e),JSON.stringify(t))}function du(e){const t=sessionStorage.getItem(eo(e));try{return t?JSON.parse(t):void 0}catch{}}function hu(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function vu(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,o=s===void 0?!0:s,a=typeof o=="boolean"?()=>o:o;function i(u,l,...c){if(l||a()){const f="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${f};background-color: lightblue;color:black`,"",`${f};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...c)}}return[i.bind(void 0,"log"),i.bind(void 0,"error")]}function to(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function _u(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function yu(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function U(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??yu(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",c=(s==null?void 0:s.message)??e.message??_u(e.reference,u.lang)??(l?(u.lang,void 0):null)??r.message??(u.lang,void 0);c&&(u.message=typeof c=="function"?c(u):c),l&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function z(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},to())}}}function no(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function mu(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var bu=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function ro(e,t){return{kind:"validation",type:"check",reference:ro,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&U(this,"input",n,r),n}}}function so(e){return{kind:"validation",type:"integer",reference:so,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&U(this,"integer",t,n),t}}}function he(e){return{kind:"transformation",type:"transform",reference:he,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function oo(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function gu(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Ze(e){return{kind:"schema",type:"boolean",reference:Ze,expects:"boolean",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:U(this,"type",t,n),t}}}function ao(e){return{kind:"schema",type:"date",reference:ao,expects:"Date",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?U(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:U(this,"type",t,n),t}}}function io(e,t){return{kind:"schema",type:"instance",reference:io,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return z(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:U(this,"type",n,r),n}}}function Wn(e){return{kind:"schema",type:"lazy",reference:Wn,expects:"unknown",async:!1,getter:e,get"~standard"(){return z(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Ve(e,t){return{kind:"schema",type:"loose_object",reference:Ve,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return z(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:oo(i),l=i["~run"]({value:u},r);if(l.issues){const c={type:"object",origin:"value",input:o,key:a,value:u};for(const f of l.issues)f.path?f.path.unshift(c):f.path=[c],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(U(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)no(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else U(this,"type",n,r);return n}}}function Gn(e){return{kind:"schema",type:"number",reference:Gn,expects:"number",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:U(this,"type",t,n),t}}}function E(e,t){return{kind:"schema",type:"optional",reference:E,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return z(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=oo(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function uo(e,t,n){return{kind:"schema",type:"record",reference:uo,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return z(this)},"~run"(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const u in i)if(no(i,u)){const l=i[u],c=this.key["~run"]({value:u},s);if(c.issues){const p={type:"object",origin:"key",input:i,key:u,value:l};for(const h of c.issues)h.path=[p],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=c.issues),s.abortEarly){r.typed=!1;break}}const f=this.value["~run"]({value:l},s);if(f.issues){const p={type:"object",origin:"value",input:i,key:u,value:l};for(const h of f.issues)h.path?h.path.unshift(p):h.path=[p],(a=r.issues)==null||a.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}(!c.typed||!f.typed)&&(r.typed=!1),c.typed&&(r.value[c.value]=f.value)}}else U(this,"type",r,s);return r}}}function m(e){return{kind:"schema",type:"string",reference:m,expects:"string",async:!1,message:e,get"~standard"(){return z(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:U(this,"type",t,n),t}}}function Nr(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function lo(e,t){return{kind:"schema",type:"union",reference:lo,expects:mu(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return z(this)},"~run"(n,r){let s,o,a;for(const i of this.options){const u=i["~run"]({value:n.value},r);if(u.typed)if(u.issues)o?o.push(u):o=[u];else{s=u;break}else a?a.push(u):a=[u]}if(s)return s;if(o){if(o.length===1)return o[0];U(this,"type",n,r,{issues:Nr(o)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];U(this,"type",n,r,{issues:Nr(a)})}return n}}}function co(){return{kind:"schema",type:"unknown",reference:co,expects:"unknown",async:!1,get"~standard"(){return z(this)},"~run"(e){return e.typed=!0,e}}}function fo(e,t,n){const r=e["~run"]({value:t},to(n));if(r.issues)throw new bu(r.issues);return r.value}function ve(...e){return{...e[0],pipe:e,get"~standard"(){return z(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function wu(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function ku(e){return Object.entries(e).reduce((t,[n,r])=>(t[wu(n)]=r,t),{})}function dn(e){const t=ku(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(dn):dn(r))}return t}function Hn(e){return he(t=>e?dn(t):t)}function po(e){return t=>ve(e,Hn(t))}function Eu(e){return(t,n)=>fo(ve(e,Hn(n)),t)}function ho(){return he(JSON.parse)}function zn(e){const t=po(e);return n=>ve(m(),ho(),t(n))}function xu(e){return he(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const o=n[s];Array.isArray(o)?o.push(r):o===void 0?n[s]=r:n[s]=[o,r]}),fo(e,n)})}function vo(e){return t=>ve(lo([m(),io(URLSearchParams)]),xu(e),Hn(t))}const Rr=E(Wn(()=>ju())),$u=Ve({id:Gn(),photo_url:E(m()),type:m(),title:m(),username:E(m())}),Au=Ve({added_to_attachment_menu:E(Ze()),allows_write_to_pm:E(Ze()),first_name:m(),id:Gn(),is_bot:E(Ze()),is_premium:E(Ze()),last_name:E(m()),language_code:E(m()),photo_url:E(m()),username:E(m())}),Su=Ve({auth_date:ve(m(),he(e=>new Date(Number(e)*1e3)),ao()),can_send_after:E(ve(m(),he(Number),so())),chat:E(Wn(()=>Pu())),chat_type:E(m()),chat_instance:E(m()),hash:m(),query_id:E(m()),receiver:Rr,start_param:E(m()),signature:m(),user:Rr}),Pu=zn($u),ju=zn(Au),qu=vo(Su);function Cu(e){return/^#[\da-f]{6}$/i.test(e)}const Tu=po(uo(m(),ve(m(),ro(Cu),he(e=>e)))),Qt=E(ve(m(),he(e=>e==="1"))),Dr=zn(Tu()),Ou=Ve({tgWebAppBotInline:Qt,tgWebAppData:E(qu()),tgWebAppDefaultColors:E(Dr()),tgWebAppFullscreen:Qt,tgWebAppPlatform:m(),tgWebAppShowSettings:Qt,tgWebAppStartParam:E(m()),tgWebAppThemeParams:Dr(),tgWebAppVersion:m()}),_o=vo(Ou),Iu=Eu(_o()),Lu=Ve({eventType:m(),eventData:E(co())});function Nu(e){try{return gu(_o(),e)}catch{return!1}}function Ru(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}function Du(e,t){const n=Ru(),r=new Map,s=(o,a,i)=>{i||(i=!1);const u=r.get(o)||new Map;r.set(o,u);const l=u.get(a)||[];u.set(a,l);const c=l.findIndex(f=>f[1]===i);c>=0&&(n.off(o,l[c][0]),l.splice(c,1),!l.length&&u.delete(a),u.size||(r.delete(o),!r.size&&t()))};return[function(o,a,i){!r.size&&e();function u(){s(o,a,i)}function l(...p){i&&u(),o==="*"?a(p):a(...p)}n.on(o,l);const c=r.get(o)||new Map;r.set(o,c);const f=c.get(a)||[];return c.set(a,f),f.push([l,i||!1]),u},s,n.emit,function(){const o=n.all.size;n.all.clear(),r.clear(),o&&t()}]}function Mr(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let Mu=!1;const[Bu,Fu]=vu("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return Mu}}),Uu={clipboard_text_received:te({req_id:we(),data:Ye(we())}),custom_method_invoked:te({req_id:we(),result:fn(Js()),error:fn(we())}),popup_closed:Ye(te({button_id:Ye(we(),()=>{})}),{}),viewport_changed:te({height:cn(),width:Ye(cn(),()=>window.innerWidth),is_state_stable:ln(),is_expanded:ln()})};function Br(e){if(e.source!==window.parent)return;let t;try{t=Tr(su(we(),ho(),Lu),e.data)}catch{return}const{eventType:n,eventData:r}=t,s=Uu[n];try{const o=s?Tr(s,r):r;Vu(n,o)}catch(o){Fu(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,o)}}const[O,Lt,Vu,id]=Du(()=>{const e=window,t={receiveEvent:Mr};e.TelegramGameProxy_receiveEvent=Mr,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",Br)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",Br)});function Wu(e){return t=>t instanceof e}function We(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Wu(n)]}const[Gu,ud]=We("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[Hu,ld]=We("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),zu=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[Ku,cd]=We("LaunchParamsRetrieveError",zu);We("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]);const[Ju,fd]=We("UnknownEnvError"),[Qu,pd]=We("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]);function Xu(e,t){t()}function Yu(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const o=l=>{if(!n(s,l)){const c=s;s=l,Xu(u,()=>{[...r].forEach(([f,p])=>{f(l,c),p&&i(f,!0)})})}};function a(l){const c=typeof l!="object"?{once:l}:l;return{once:c.once||!1,signal:c.signal||!1}}const i=(l,c)=>{const f=a(c),p=r.findIndex(([h,v])=>h===l&&v.once===f.once&&v.signal===f.signal);p>=0&&r.splice(p,1)},u=Object.assign(function(){return Zu(u),s},{destroy(){r=[]},set:o,reset(){o(e)},sub(l,c){return r.push([l,a(c)]),()=>i(l,c)},unsub:i,unsubAll(){r=r.filter(l=>l[1].signal)}});return u}const Xt=[];function Zu(e){Xt.length&&Xt[Xt.length-1].add(e)}const el=Yu("https://web.telegram.org");function Kn(e,t){Bu(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(ou())return n.parent.postMessage(r,el());if(Qs(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(Un(te({external:te({notify:Vn()})}),n)){n.external.notify(r);return}throw new Ju}function Jn(e,t,n){n||(n={});const{capture:r}=n,[s,o]=hu();return new Zs(a=>{(Array.isArray(t)?t:[t]).forEach(i=>{s(O(i,u=>{(!r||(Array.isArray(t)?r({event:i,payload:u}):r(u)))&&a(u)}))}),(n.postEvent||Kn)(e,n.params)},n).finally(o)}const Fr="launchParams";function Ur(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function tl(){for(const e of[()=>Ur(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&Ur(t.name)},()=>du(Fr)]){const t=e();if(t&&Nu(t))return pu(Fr,t),t}throw new Ku}function yo(e){return Iu(tl())}function Vr(e,t){try{return yo(),!0}catch{return!1}return Zs.fn(async n=>{if(Qs(window))return!0;try{return await Jn("web_app_request_theme","theme_changed",n),!0}catch{return!1}},{timeout:100})}function nl(e){return({req_id:t})=>t===e}function Wr(e){return e.split(".").map(Number)}function rl(e,t){const n=Wr(e),r=Wr(t),s=Math.max(n.length,r.length);for(let o=0;o<s;o+=1){const a=n[o]||0,i=r[o]||0;if(a!==i)return a>i?1:-1}return 0}function T(e,t){return rl(e,t)<=0}function it(e,t,n){if(typeof n=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return T("6.4",n);if(t==="try_browser")return T("7.6",n)}if(e==="web_app_set_header_color"&&t==="color")return T("6.9",n);if(e==="web_app_close"&&t==="return_back")return T("7.6",n);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return T("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return T("6.1",t);case"web_app_open_popup":return T("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return T("6.4",t);case"web_app_switch_inline_query":return T("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return T("6.9",t);case"web_app_setup_settings_button":return T("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return T("7.2",t);case"web_app_setup_swipe_behavior":return T("7.7",t);case"web_app_share_to_story":return T("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return T("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return T("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function sl(e,t){t||(t="strict");const n=typeof t=="function"?t:r=>{const{method:s,version:o}=r,a="param"in r?new Hu(s,r.param,o):new Gu(s,o);if(t==="strict")throw a;return console.warn(a.message)};return(r,s)=>it(r,e)?r==="web_app_set_header_color"&&Un(te({color:Ks()}),s)&&!it(r,"color",e)?n({version:e,method:r,param:"color"}):Kn(r,s):n({version:e,method:r})}function ol(e,t,n,r){return Jn("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:nl(n)}).then(({result:s,error:o})=>{if(o)throw new Qu(o);return s})}function mo(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function al(e){return e.replace(/_([a-z])/g,(t,n)=>`-${n.toLowerCase()}`)}function bo(e){return`tapps/${e}`}function Y(e,t){sessionStorage.setItem(bo(e),JSON.stringify(t))}function Z(e){const t=sessionStorage.getItem(bo(e));try{return t?JSON.parse(t):void 0}catch{}}function Qn(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function il(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,o=s===void 0?!0:s,a=typeof o=="boolean"?()=>o:o;function i(u,l,...c){if(l||a()){const f="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${f};background-color: lightblue;color:black`,"",`${f};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...c)}}return[i.bind(void 0,"log"),i.bind(void 0,"error")]}function ul(){return performance.getEntriesByType("navigation")[0]}function ee(){const e=ul();return!!e&&e.type==="reload"}let Ce;function ll(e,t){Ce&&Ce.set(e,t)||t()}function hn(e){if(Ce)return e();Ce=new Map;try{e()}finally{Ce.forEach(t=>t()),Ce=void 0}}function go(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const o=l=>{if(!n(s,l)){const c=s;s=l,ll(u,()=>{[...r].forEach(([f,p])=>{f(l,c),p&&i(f,!0)})})}};function a(l){const c=typeof l!="object"?{once:l}:l;return{once:c.once||!1,signal:c.signal||!1}}const i=(l,c)=>{const f=a(c),p=r.findIndex(([h,v])=>h===l&&v.once===f.once&&v.signal===f.signal);p>=0&&r.splice(p,1)},u=Object.assign(function(){return cl(u),s},{destroy(){r=[]},set:o,reset(){o(e)},sub(l,c){return r.push([l,a(c)]),()=>i(l,c)},unsub:i,unsubAll(){r=r.filter(l=>l[1].signal)}});return u}const rt=[];function cl(e){rt.length&&rt[rt.length-1].add(e)}function fl(e,t){let n=new Set,r;function s(){return r||(r=go(a(),t))}function o(){s().set(a())}function a(){n.forEach(l=>{l.unsub(o,{signal:!0})});const i=new Set;let u;rt.push(i);try{u=e()}finally{rt.pop()}return i.forEach(l=>{l.sub(o,{signal:!0})}),n=i,u}return Object.assign(function(){return s()()},{destroy(){s().destroy()},sub(...i){return s().sub(...i)},unsub(...i){s().unsub(...i)},unsubAll(...i){s().unsubAll(...i)}})}function Ge(e,t){return go(e,t)}function S(e,t){return fl(e,t)}function g(e,t){const n=Ge(e,t);return[n,S(n)]}let pl=!1;const[vn,dd]=il("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return pl}}),Yt=Ge(0),wo=Ge(Kn),[Gr,ko]=g({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),je=S(()=>ko().tgWebAppVersion);function dl(e){e||(e={});const{postEvent:t}=e,n=e.launchParams||yo();Gr.set(n),wo.set(typeof t=="function"?t:sl(n.tgWebAppVersion)),vn(!1,"The package was configured. Launch params:",Gr())}function hl(){return Yt.set(Yt()+1),Yt().toString()}function ft(e,t,n){return ol(e,t,hl(),{...n||{},postEvent:w})}const j=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=w),Jn(e,t,n)),w=(e,t)=>wo()(e,t);function vl(e){return t=>t instanceof e}function oe(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,vl(n)]}function Ae(e){return[e]}const[Xn,hd]=oe("CSSVarsBoundError","CSS variables are already bound"),[Eo,vd]=oe("NotAvailableError",Ae);oe("InvalidEnvError",Ae);const[Xe,_d]=oe("FunctionNotAvailableError",Ae),[ue,yd]=oe("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[_l,md]=oe("ConcurrentCallError",Ae),[yl,bd]=oe("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[ml,gd]=oe("AccessDeniedError",Ae),[bl,wd]=oe("FullscreenFailedError",Ae);oe("ShareMessageError",Ae);function Hr(){return typeof window>"u"}function Yn(e,t,n){n||(n={});const{isSupported:r,isMounted:s,isMounting:o,component:a,supports:i}=n||{},u=`${a?`${a}.`:""}${e}()`,l=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function c(y){if(i){const _=i[y];return it(_[0],_[1],je())}return!0}function f(){if(!l)return;function y(L){return typeof L=="function"?L():it(L,je())?void 0:`it is unsupported in Mini Apps version ${je()}`}const _=Array.isArray(l)?l:l.any,C=_.map(y).filter(Boolean);return Array.isArray(l)?C[0]:C.length===_.length?C[C.length-1]:void 0}function p(...y){for(const _ in i)if(i[_][2](...y)&&!c(_))return`option ${_} is not supported in Mini Apps version ${je()}`}let h;if(i){h={};for(const y in i)h[y]=S(()=>c(y))}const v=S(()=>!f()),q=S(()=>je()!=="0.0"),k=S(()=>!s||s()),M=S(()=>Vr()&&!Hr()&&q()&&v()&&k());return Object.assign((...y)=>{const _=`Unable to call the ${u} ${a?"method":"function"}:`;if(Hr()||!Vr())throw new Xe(`${_} it can't be called outside Mini Apps`);if(!q())throw new Xe(`${_} the SDK was not initialized. Use the SDK init() function`);const C=f();if(C)throw new Xe(`${_} ${C}`);const L=p(...y);if(L)throw new Xe(`${_} ${L}`);if(!k()){const d=o&&o()?"mounting. Wait for the mount completion":`unmounted. Use the ${a}.mount() method`;throw new Xe(`${_} the component is ${d}`)}return t(...y)},t,{isAvailable:M,ifAvailable(...y){return M()?[!0,t(...y)]:[!1]}},l?{isSupported:v}:{},h?{supports:h}:{})}function Nt(e,t){return t||(t={}),(n,r,s,o)=>Yn(n,r,{...t,isSupported:s||t.isSupported,supports:o,component:e})}function be(e,t,n){return Nt(e,{isSupported:n,isMounted:t})}function W(e,t){return Nt(e,{isSupported:t})}const Zn="web_app_setup_back_button",xo="back_button_pressed",Rt="backButton",[zr,kd]=g(!1),[_n,Ed]=g(!1),$o=be(Rt,_n,Zn),er=W(Rt,Zn);$o("hide",()=>{tr(!1)});er("mount",()=>{_n()||(tr(ee()&&Z(Rt)||!1),_n.set(!0))});function tr(e){e!==zr()&&(w(Zn,{is_visible:e}),Y(Rt,e),zr.set(e))}er("onClick",e=>O(xo,e));er("offClick",e=>{Lt(xo,e)});$o("show",()=>{tr(!0)});var gl=Object.defineProperty,wl=(e,t,n)=>t in e?gl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t,n)=>wl(e,typeof t!="symbol"?t+"":t,n);function kl(e){return t=>t instanceof e}function Ao(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,kl(n)]}const[El,xl]=Ao("CancelledError","Promise was canceled"),[$l,xd]=Ao("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),So=Symbol("Resolved");function Kr(e){return Array.isArray(e)&&e[0]===So}function Al(e){return[So,e]}function Jr(e,t){return e.reject=t.reject,e.abort=t.abort,e}let I=class mn extends Promise{constructor(t,n){let r,s;super((o,a)=>{let i,u;typeof t=="function"?(i=t,u=n):u=t;const l=[],c=d=>(...A)=>{const R=d(...A);return l.forEach(Qe=>Qe()),R},f=new AbortController,{signal:p}=f;s=d=>{!p.aborted&&f.abort(d)};const h=()=>p.reason,v=d=>{const A=()=>{d(h())};p.addEventListener("abort",A,!0);const R=()=>{p.removeEventListener("abort",A,!0)};return l.push(R),R},q=c(d=>{o(d),s(Al(d))});r=c(d=>{a(d),s(d)}),u||(u={});const{abortSignal:k,rejectOnAbort:M=!0}=u;if(k)if(k.aborted){const{reason:d}=k;if(M)return r(d);s(d)}else{const d=()=>{s(k.reason)};k.addEventListener("abort",d),l.push(()=>{k.removeEventListener("abort",d)})}M&&v(a);const{timeout:y}=u;if(y){const d=setTimeout(()=>{s(new $l(y))},y);l.push(()=>{clearTimeout(d)})}const _=()=>p.aborted,C=()=>Kr(h()),L=()=>{const d=h();return Kr(d)?d[1]:void 0};try{const d=i&&i(q,r,{abortReason:h,abortSignal:p,isAborted:_,isResolved:C,onAborted:v,onResolved:A=>v(()=>{C()&&A(L())}),resolved:L,throwIfAborted(){if(_())throw h()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),yn(this,"abort"),yn(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new mn(async(r,s,o)=>{try{r(await t(o))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new mn((n,r)=>{r(t)})}cancel(){this.abort(new El)}catch(t){return this.then(void 0,t)}finally(t){return Jr(super.finally(t),this)}then(t,n){return Jr(super.then(t,n),this)}};function Qr(e,t){return e.resolve=t.resolve,e}let Sl=class bn extends I{constructor(t,n){let r,s;typeof t=="function"?(r=t,s=n):s=t;let o;super((a,i,u)=>{o=a,r&&r(a,i,u)},s),yn(this,"resolve"),this.resolve=o}static fn(t,n){return new bn((r,s,o)=>{try{Promise.resolve(t(o)).then(r,s)}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new bn((n,r)=>{r(t)})}catch(t){return this.then(void 0,t)}finally(t){return Qr(super.finally(t),this)}then(t,n){return Qr(super.then(t,n),this)}};function D(e,t,n){n||(n={});const{promise:r,error:s}=n,[o,a]=r?[r,S(r)]:g(),[i,u]=s?[s,S(s)]:g();return[Object.assign((...l)=>{if(o()){const f=new _l(t);return i.set(f),I.reject(f)}hn(()=>{o.set(e(...l)),i.set(void 0)});let c;return o().catch(f=>{throw c=f,f}).finally(()=>{hn(()=>{o.set(void 0),i.set(c)})})},e),[o,a,S(()=>!!o())],[i,u]]}function pt(e,t,n){const[r,...s]=D(t,`The ${e} component is already mounting`),[o,a]=g(!1);return[(...i)=>o()?I.resolve():r(...i).then(u=>{hn(()=>{o.set(!0),n(u)})}),...s,[o,a]]}const[Po,$d]=g({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),Xr="web_app_biometry_get_info",Pl=Yn("requestBiometry",e=>j(Xr,"biometry_info_received",e),{isSupported:Xr});function jo(e){if(!xl(e))throw e}function jl(e){const t=e();t&&t.catch(jo).cancel()}const ut="biometry",nr="web_app_biometry_request_auth",qo="biometry_info_received",ql=e=>{Dt(rr(e))};function Co(){throw new Eo("Biometry is not available")}function rr(e){let t=!1,n=!1,r="",s=!1,o="",a=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,s=e.access_requested,o=e.type,a=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:o,accessGranted:a,accessRequested:s}}const[Cl,Tl,Ol,To]=pt(ut,e=>{const t=ee()&&Z(ut);return t?I.resolve(t):Pl({abortSignal:e}).then(rr)},e=>{O(qo,ql),Dt(e)}),Oo=W(ut,nr),sr=be(ut,To[0],nr);Oo("mount",Cl);const[,Ad,Sd]=Tl,[,Pd]=Ol,[jd,qd]=To,[Il,Ll,Nl]=D(e=>I.fn(async t=>{const n=Po();n.available||Co();const r=await j(nr,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:s}=r;return typeof s=="string"&&Dt({...n,token:s}),r},e),"Biometry authentication is already in progress");sr("authenticate",Il);const[,Cd,Td]=Ll,[,Od]=Nl;Oo("openSettings",()=>{w("web_app_biometry_open_settings")});const[Rl,Dl,Ml]=D(e=>I.fn(async t=>{const n=await j("web_app_biometry_request_access",qo,{...e,...t,params:{reason:(e||{}).reason||""}}).then(rr);return n.available||Co(),Dt(n),n.accessGranted},e),"Biometry access request is already in progress");sr("requestAccess",Rl);const[,Id,Ld]=Dl,[,Nd]=Ml;function Dt(e){Po.set(e),Y(ut,e)}sr("updateToken",e=>(e||(e={}),j("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status)));function Mt(e,t){return Nt(e,{isMounted:t})}const ge=Nt,Bt="closingBehavior",[Yr,Rd]=g(!1),[Zr,Bl]=g(!1),Io=Mt(Bt,Bl),Fl=ge(Bt);Io("disableConfirmation",()=>{or(!1)});Io("enableConfirmation",()=>{or(!0)});Fl("mount",()=>{Zr()||(or(ee()&&Z(Bt)||!1),Zr.set(!0))});function or(e){e!==Yr()&&(w("web_app_setup_closing_behavior",{need_confirmation:e}),Y(Bt,e),Yr.set(e))}function Lo(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function Ul(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function Vl(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function H(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??Vl(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",c=(s==null?void 0:s.message)??e.message??Ul(e.reference,u.lang)??(l?(u.lang,void 0):null)??r.message??(u.lang,void 0);c&&(u.message=typeof c=="function"?c(u):c),l&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function ae(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Lo())}}}function No(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Wl(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var gn=class extends Error{constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};function Ro(e,t){return{kind:"validation",type:"check",reference:Ro,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&H(this,"input",n,r),n}}}function Do(e){return{kind:"transformation",type:"transform",reference:Do,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Mo(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Bo(e,t){return{kind:"schema",type:"array",reference:Bo,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return ae(this)},"~run"(n,r){var s;const o=n.value;if(Array.isArray(o)){n.typed=!0,n.value=[];for(let a=0;a<o.length;a++){const i=o[a],u=this.item["~run"]({value:i},r);if(u.issues){const l={type:"array",origin:"value",input:o,key:a,value:i};for(const c of u.issues)c.path?c.path.unshift(l):c.path=[l],(s=n.issues)==null||s.push(c);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}}else H(this,"type",n,r);return n}}}function Fo(e){return{kind:"schema",type:"date",reference:Fo,expects:"Date",async:!1,message:e,get"~standard"(){return ae(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?H(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:H(this,"type",t,n),t}}}function Uo(e,t){return{kind:"schema",type:"instance",reference:Uo,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return ae(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:H(this,"type",n,r),n}}}function wn(e,t){return{kind:"schema",type:"loose_object",reference:wn,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return ae(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:Mo(i),l=i["~run"]({value:u},r);if(l.issues){const c={type:"object",origin:"value",input:o,key:a,value:u};for(const f of l.issues)f.path?f.path.unshift(c):f.path=[c],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(H(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)No(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else H(this,"type",n,r);return n}}}function Vo(e){return{kind:"schema",type:"number",reference:Vo,expects:"number",async:!1,message:e,get"~standard"(){return ae(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:H(this,"type",t,n),t}}}function Wo(e,t){return{kind:"schema",type:"optional",reference:Wo,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return ae(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Mo(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Go(e,t,n){return{kind:"schema",type:"record",reference:Go,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return ae(this)},"~run"(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const u in i)if(No(i,u)){const l=i[u],c=this.key["~run"]({value:u},s);if(c.issues){const p={type:"object",origin:"key",input:i,key:u,value:l};for(const h of c.issues)h.path=[p],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=c.issues),s.abortEarly){r.typed=!1;break}}const f=this.value["~run"]({value:l},s);if(f.issues){const p={type:"object",origin:"value",input:i,key:u,value:l};for(const h of f.issues)h.path?h.path.unshift(p):h.path=[p],(a=r.issues)==null||a.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}(!c.typed||!f.typed)&&(r.typed=!1),c.typed&&(r.value[c.value]=f.value)}}else H(this,"type",r,s);return r}}}function J(e){return{kind:"schema",type:"string",reference:J,expects:"string",async:!1,message:e,get"~standard"(){return ae(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:H(this,"type",t,n),t}}}function es(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Ho(e,t){return{kind:"schema",type:"union",reference:Ho,expects:Wl(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return ae(this)},"~run"(n,r){let s,o,a;for(const i of this.options){const u=i["~run"]({value:n.value},r);if(u.typed)if(u.issues)o?o.push(u):o=[u];else{s=u;break}else a?a.push(u):a=[u]}if(s)return s;if(o){if(o.length===1)return o[0];H(this,"type",n,r,{issues:es(o)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];H(this,"type",n,r,{issues:es(a)})}return n}}}function ar(e,t,n){const r=e["~run"]({value:t},Lo(n));if(r.issues)throw new gn(r.issues);return r.value}function yt(...e){return{...e[0],pipe:e,get"~standard"(){return ae(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const Gl="web_app_invoke_custom_method",dt=W("cloudStorage",Gl),Hl=dt("deleteItem",(e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?ft("deleteStorageValues",{keys:n},t).then():I.resolve()});function zl(e,t){const n=Array.isArray(e)?e:[e];return n.length?ft("getStorageValues",{keys:n},t).then(r=>ar(Go(yt(J(),Ro(s=>n.includes(s))),J()),r)):I.resolve(typeof e=="string"?"":{})}dt("getItem",zl);const Kl=dt("getKeys",e=>ft("getStorageKeys",{},e).then(t=>ar(Bo(J()),t)));dt("setItem",(e,t,n)=>ft("saveStorageValue",{key:e,value:t},n).then());dt("clear",e=>Kl(e).then(Hl));const Ft="web_app_trigger_haptic_feedback",ir=W("hapticFeedback",Ft);ir("impactOccurred",e=>{w(Ft,{type:"impact",impact_style:e})});ir("notificationOccurred",e=>{w(Ft,{type:"notification",notification_type:e})});ir("selectionChanged",()=>{w(Ft,{type:"selection_change"})});const zo="web_app_open_invoice",Jl=W("invoice",zo);function Ql(e,t,n){let r;if(t==="url"){const{hostname:s,pathname:o}=new URL(e,window.location.href);if(s!=="t.me")throw new ue(`Link has unexpected hostname: ${s}`);const a=o.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!a)throw new ue('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=a}else r=e,n=t;return j(zo,"invoice_closed",{...n,params:{slug:r},capture:s=>r===s.slug}).then(s=>s.status)}const[Xl,Yl,Zl]=D(Ql,"Invoice is already opened");Jl("open",Xl);const[,Md,Bd]=Yl,[,Fd]=Zl,st="locationManager",Ko="web_app_check_location",ts="web_app_open_location_settings",kn=Ge({available:!1,accessGranted:!1,accessRequested:!1});function ec(e){let t=!1,n,r;return e.available&&(t=!0,n=e.access_requested,r=e.access_granted),{available:t,accessGranted:r||!1,accessRequested:n||!1}}const[tc,nc,rc,Jo]=pt(st,e=>{const t=ee()&&Z(st);return t?I.resolve(t):j("web_app_check_location","location_checked",e).then(ec)},e=>{kn.set(e),Y(st,e)}),Qo=W(st,Ko),sc=be(st,Jo[0],Ko);Qo("mount",tc);const[,Ud,Vd]=nc,[,Wd]=rc,[Gd,Hd]=Jo,[oc,ac,ic]=D(e=>j("web_app_request_location","location_requested",e).then(t=>{if(!t.available)throw kn.set({...kn(),available:!1}),new Eo("Location data tracking is not available");const{available:n,...r}=t;return r}),"Location request is currently in progress");sc("requestLocation",oc);const[,zd,Kd]=ac,[,Jd]=ic;Qo("openSettings",()=>{w(ts)},ts);function ur(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=r)}return t}function uc(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}var lc=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function lr(e){return{kind:"transformation",type:"transform",reference:lr,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function cc(e,t,n){const r=e["~run"]({value:t},uc(n));if(r.issues)throw new lc(r.issues);return r.value}function fc(){return lr(JSON.parse)}function pc(e){return lr(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const o=n[s];Array.isArray(o)?o.push(r):o===void 0?n[s]=r:n[s]=[o,r]}),cc(e,n)})}function At(e){return/^#[\da-f]{6}$/i.test(e)}const[Zt,Qd]=g(!1),[Ie,Xd]=g({});function ht(e){return S(()=>Ie()[e])}const Xo=ht("bg_color"),Yo=ht("button_color"),dc=ht("button_text_color"),hc=ht("bottom_bar_bg_color"),En=ht("secondary_bg_color"),ot=Ge({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),vc=S(()=>{const e=ot();return{...e,backgroundColor:e.backgroundColor||Yo()||"#2481cc",textColor:e.textColor||dc()||"#ffffff"}}),[ns,_c]=g(!1),yc="web_app_setup_main_button",Zo="main_button_pressed",Ut="mainButton",cr=ge(Ut),mc=Mt(Ut,_c);cr("mount",()=>{if(!ns()){const e=ee()&&Z(Ut);e&&ot.set(e),ns.set(!0)}});cr("onClick",e=>O(Zo,e));cr("offClick",e=>{Lt(Zo,e)});mc("setParams",e=>{ot.set({...ot(),...ur(e)}),Y(Ut,ot());const t=vc();t.text&&w(yc,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function fr(e,t){document.documentElement.style.setProperty(e,t)}function pr(e){document.documentElement.style.removeProperty(e)}const lt="themeParams",bc="theme_changed",gc=ge(lt),wc=({theme_params:e})=>{Ie.set(e),Y(lt,e)},[kc,Ec,xc,ea]=pt(lt,e=>{const t=ee()&&Z(lt);return t?I.resolve(t):j("web_app_request_theme","theme_changed",e).then(n=>n.theme_params)},e=>{O(bc,wc),Ie.set(e)}),$c=Mt(lt,ea[0]);$c("bindCssVars",e=>{if(Zt())throw new Xn;e||(e=r=>`--tg-theme-${al(r)}`);function t(r){Object.entries(Ie()).forEach(([s,o])=>{o&&r(s,o)})}function n(){t((r,s)=>{fr(e(r),s)})}return n(),Ie.sub(n),Zt.set(!0),()=>{t(pr),Ie.unsub(n),Zt.set(!1)}});const Ac=gc("mount",kc),[,Yd,Zd]=Ec,[,eh]=xc,[th,nh]=ea;function ta(e){return S(()=>{const t=e();return At(t)?t:t==="bg_color"?Xo():En()})}const[St,rh]=g("bg_color"),Sc=ta(St),[Pt,sh]=g("bottom_bar_bg_color"),na=S(()=>{const e=Pt();return At(e)?e:e==="bottom_bar_bg_color"?hc()||En():e==="secondary_bg_color"?En():Xo()}),[jt,oh]=g("bg_color"),Pc=ta(jt),[en,ah]=g(!1),[dr,ih]=g(!0),jc=S(()=>({backgroundColor:St(),bottomBarColor:Pt(),headerColor:jt(),isActive:dr()})),xn="web_app_set_background_color",$n="web_app_set_bottom_bar_color",mt="web_app_set_header_color",qc="visibility_changed",De="miniApp",ra={any:[xn,$n,mt]},Cc=e=>{dr.set(e.is_visible),Wt()},[Tc,Oc,Ic,sa]=pt(De,e=>Ac(e).then(()=>ee()&&Z(De)||void 0),e=>{Nc.ifAvailable(e?e.backgroundColor:"bg_color"),Rc.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),Dc.ifAvailable(e?e.headerColor:"bg_color"),dr.set(e?e.isActive:!0),O(qc,Cc)}),oa=ge(De),Lc=W(De,ra),Vt=be(De,sa[0],ra);Vt("bindCssVars",e=>{if(en())throw new Xn;const[t,n]=Qn();function r(s,o){function a(){fr(s,o()||null)}a(),t(o.sub(a),pr.bind(null,s))}return e||(e=s=>`--tg-${mo(s)}`),r(e("bgColor"),Sc),r(e("bottomBarColor"),na),r(e("headerColor"),Pc),t(()=>{en.set(!1)}),en.set(!0),n});oa("close",e=>{w("web_app_close",{return_back:e})});Lc("mount",Tc);const[,uh,lh]=Oc,[,ch]=Ic,[fh,ph]=sa;oa("ready",()=>{w("web_app_ready")});function Wt(){Y(De,jc())}const Nc=Vt("setBackgroundColor",e=>{e!==St()&&(w(xn,{color:e}),St.set(e),Wt())},xn),Rc=Vt("setBottomBarColor",e=>{e!==Pt()&&(w($n,{color:e}),Pt.set(e),Wt())},$n),Dc=Vt("setHeaderColor",e=>{e!==jt()&&(w(mt,At(e)?{color:e}:{color_key:e}),jt.set(e),Wt())},mt,{rgb:[mt,"color",At]});function Mc(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new ue(`Invalid title: ${n}`);if(!t||t.length>256)throw new ue(`Invalid message: ${t}`);if(r.length>3)throw new ue(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((s,o)=>{const a=s.id||"";if(a.length>64)throw new ue(`Button with index ${o} has invalid id: ${a}`);if(!s.type||s.type==="default"||s.type==="destructive"){const i=s.text.trim();if(!i||i.length>64)throw new ue(`Button with index ${o} has invalid text: ${i}`);return{type:s.type,text:i,id:a}}return{type:s.type,id:a}}):[{type:"close",id:""}]}}const aa="web_app_open_popup",Bc=W("popup",aa),[Fc,Uc,Vc]=D(e=>j(aa,"popup_closed",{...e,params:Mc(e)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened");Bc("open",Fc);const[,dh,hh]=Uc,[,vh]=Vc,ia="web_app_close_scan_qr_popup",ua="web_app_open_scan_qr_popup",Wc="scan_qr_popup_closed",Gc="qr_text_received",la=W("qrScanner",ua);la("close",()=>{w(ia),jl(Qc)});function Hc(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,s]=Qn(O(Wc,()=>{o.resolve()}),O(Gc,a=>{t?t(a.data):(!r||r(a.data))&&(o.resolve(a.data),w(ia))})),o=new Sl(e);return(e.postEvent||w)(ua,{text:n}),I.resolve(o).catch(jo).finally(s)}const[zc,Kc,Jc]=D(Hc,"The QR Scanner is already opened");la("open",zc);const[,Qc,_h]=Kc,[,yh]=Jc,at=Ge({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),Xc=S(()=>{const e=at();return{...e,backgroundColor:e.backgroundColor||na()||"#000000",textColor:e.textColor||Yo()||"#2481cc"}}),[rs,Yc]=g(!1),hr="web_app_setup_secondary_button",ca="secondary_button_pressed",Gt="secondaryButton",vr=W(Gt,hr),Zc=be(Gt,Yc,hr);vr("mount",()=>{if(!rs()){const e=ee()&&Z(Gt);e&&at.set(e),rs.set(!0)}});vr("onClick",e=>O(ca,e));vr("offClick",e=>{Lt(ca,e)});Zc("setParams",e=>{at.set({...at(),...ur(e)}),Y(Gt,at());const t=Xc();t.text&&w(hr,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});const _r="web_app_setup_settings_button",fa="settings_button_pressed",Ht="settingsButton",[ss,mh]=g(!1),[An,bh]=g(!1),yr=W(Ht,_r),pa=be(Ht,An,_r);pa("hide",()=>{mr(!1)});yr("mount",()=>{An()||(mr(ee()&&Z(Ht)||!1),An.set(!0))});function mr(e){e!==ss()&&(w(_r,{is_visible:e}),Y(Ht,e),ss.set(e))}yr("onClick",e=>O(fa,e));yr("offClick",e=>{Lt(fa,e)});pa("show",()=>{mr(!0)});const br="web_app_setup_swipe_behavior",zt="swipeBehavior",[Sn,gh]=g(!1),[os,wh]=g(!0),ef=W(zt,br),da=be(zt,Sn,br);da("disableVertical",()=>{gr(!1)});da("enableVertical",()=>{gr(!0)});ef("mount",()=>{Sn()||(gr(ee()&&Z(zt)||!1,!0),Sn.set(!0))});function gr(e,t){(e!==os()||t)&&(w(br,{allow_vertical_swipe:e}),Y(zt,e),os.set(e))}const Se="viewport",ha="fullscreen_changed",va="safe_area_changed",_a="content_safe_area_changed",ya="viewport_changed",ma=ge(Se),as={left:0,top:0,bottom:0,right:0};function tn(e){return Math.max(e,0)}const[nn,tf]=g({contentSafeAreaInsets:as,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:as,stableHeight:0,width:0});function He(e){return S(()=>tf()[e])}const nf=He("height"),rf=He("stableHeight"),sf=He("width");function ze(e){const{height:t,stableHeight:n,width:r}=e;nn.set({...nn(),...ur({...e,height:t?tn(t):void 0,width:r?tn(r):void 0,stableHeight:n?tn(n):void 0})}),Y(Se,nn())}function of(){return Z(Se)}function Kt(e){return S(()=>ba()[e])}const ba=He("contentSafeAreaInsets"),af=Kt("bottom"),uf=Kt("left"),lf=Kt("right"),cf=Kt("top");function Jt(e){return S(()=>ga()[e])}const ga=He("safeAreaInsets"),ff=Jt("bottom"),pf=Jt("left"),df=Jt("right"),hf=Jt("top"),wa="web_app_request_safe_area",ka=W(Se,wa),is=ka("requestContentSafeAreaInsets",e=>j("web_app_request_content_safe_area",_a,e));function vf(e){return j("web_app_request_viewport",ya,e)}const us=ka("requestSafeAreaInsets",e=>j(wa,va,e)),_f=e=>{const{height:t}=e;ze({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},yf=e=>{ze({isFullscreen:e.is_fullscreen})},mf=e=>{ze({safeAreaInsets:e})},bf=e=>{ze({contentSafeAreaInsets:e})},[gf,wf,kf,Ef]=pt(Se,e=>{const t=ee()&&of();return t?I.resolve(t):I.fn(async n=>{const r=await I.all([us.isAvailable()?us(n):ga(),is.isAvailable()?is(n):ba()]),s=ko(),o={contentSafeAreaInsets:r[1],isFullscreen:!!s.tgWebAppFullscreen,safeAreaInsets:r[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(s.tgWebAppPlatform)){const a=window;return{...o,height:a.innerHeight,isExpanded:!0,stableHeight:a.innerHeight,width:a.innerWidth}}return vf(n).then(a=>({...o,height:a.height,isExpanded:a.is_expanded,stableHeight:a.is_state_stable?a.height:0,width:a.width}))},e)},e=>{O(ya,_f),O(ha,yf),O(va,mf),O(_a,bf),ze(e)});ma("mount",gf);const[,kh,Eh]=wf,[,xh]=kf,[Ea,$h]=Ef,xf=Mt(Se,Ea),[rn,Ah]=g(!1);xf("bindCssVars",e=>{if(rn())throw new Xn;e||(e=n=>`--tg-viewport-${mo(n)}`);const t=[["height",nf],["stableHeight",rf],["width",sf],["safeAreaInsetTop",hf],["safeAreaInsetBottom",ff],["safeAreaInsetLeft",pf],["safeAreaInsetRight",df],["contentSafeAreaInsetTop",cf],["contentSafeAreaInsetBottom",af],["contentSafeAreaInsetLeft",uf],["contentSafeAreaInsetRight",lf]].reduce((n,[r,s])=>{const o=e(r);if(o){const a=()=>{fr(o,`${s()}px`)};n.push([a,s.sub(a),o])}return n},[]);return t.forEach(n=>{n[0]()}),rn.set(!0),()=>{t.forEach(n=>{n[1](),pr(n[2])}),rn.set(!1)}});ma("expand",()=>{w("web_app_expand")});const xa="web_app_request_fullscreen",$f=be(Se,Ea,xa),Af=He("isFullscreen"),[Sf,Sh]=g(),[Pf,Ph]=g();function $a(e,t){return $f(e,D(n=>j(t?xa:"web_app_exit_fullscreen",[ha,"fullscreen_failed"],n).then(r=>{if("error"in r&&r.error!=="ALREADY_FULLSCREEN")throw new bl(r.error);const s="is_fullscreen"in r?r.is_fullscreen:!0;s!==Af()&&ze({isFullscreen:s})}),"Fullscreen mode change is already being requested",{promise:Sf,error:Pf})[0])}$a("requestFullscreen",!0);$a("exitFullscreen");const jf="web_app_request_emoji_status_access",[jh,qf,Cf]=D(e=>j(jf,"emoji_status_access_requested",e).then(t=>t.status),"Emoji status access request is already in progress"),[,qh,Ch]=qf,[,Th]=Cf,Tf="web_app_set_emoji_status",[Oh,Of,If]=D((e,t)=>j(Tf,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(n=>{if(n&&"error"in n)throw new yl(n.error)}),"Emoji status set request is currently in progress"),[,Ih,Lh]=Of,[,Nh]=If,Lf="web_app_check_home_screen",[Rh,Nf,Rf]=D(e=>j(Lf,"home_screen_checked",e).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),[,Dh,Mh]=Nf,[,Bh]=Rf,Df=ge();Df("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(n){throw new ue(`"${e.toString()}" is invalid URL`,n)}t||(t={}),w("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})});const ls="web_app_open_tg_link",Mf=ge(),Bf=Mf("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new ue(`"${t}" is invalid URL`);if(!it(ls,je())){window.location.href=t;return}e=new URL(e),w(ls,{path_full:e.pathname+e.search})}),Ff=ge();Ff("shareURL",(e,t)=>{Bf("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function Uf(e,t){return new I({abortSignal:t,timeout:e}).catch(()=>{})}const Aa="web_app_request_phone",[Vf,Wf,Gf]=D(e=>j(Aa,"phone_requested",e).then(t=>t.status),"Phone access request is currently in progress"),Hf=Yn("requestPhoneAccess",Vf,{isSupported:Aa}),[,Fh,Uh]=Wf,[,Vh]=Gf;async function cs(e){const t=await ft("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3});return ar(yt(Ho([J(),Uo(URLSearchParams)]),pc(wn({contact:yt(J(),fc(),wn({user_id:Vo(),phone_number:J(),first_name:J(),last_name:Wo(J())})),auth_date:yt(J(),Do(n=>new Date(Number(n)*1e3)),Fo()),hash:J()}))),t)}const[Wh,zf,Kf]=D(e=>new I(async(t,n,r)=>{try{return t(await cs(r))}catch(o){if(o instanceof gn)throw o}if(await Hf(r)!=="sent")throw new ml("User denied access");let s=50;for(;!r.isAborted();){try{return t(await cs(r))}catch(o){if(o instanceof gn)throw o}await Uf(s),s+=50}},e),"Contact is already being requested"),[,Gh,Hh]=zf,[,zh]=Kf,Jf="web_app_request_write_access",[Kh,Qf,Xf]=D(e=>j(Jf,"write_access_requested",e).then(t=>t.status),"Write access request is currently in progress"),[,Jh,Qh]=Qf,[,Xh]=Xf;function Yf(e){dl(e);const[t,n]=Qn(O("reload_iframe",()=>{vn(!1,"Received a request to reload the page"),w("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}={};if(r){const s=document.createElement("style");s.id="telegram-custom-styles",document.head.appendChild(s),t(O("set_custom_style",o=>{s.innerHTML=o}),()=>{document.head.removeChild(s)})}return w("iframe_ready",{reload_supported:!0}),vn(!1,"The package was initialized"),n}function Sa(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function Zf(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function ep(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function Me(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??ep(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",c=(s==null?void 0:s.message)??e.message??Zf(e.reference,u.lang)??(l?(u.lang,void 0):null)??r.message??(u.lang,void 0);c&&(u.message=typeof c=="function"?c(u):c),l&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function fe(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Sa())}}}function tp(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var np=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function wr(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Pa(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Pn(e){return{kind:"schema",type:"boolean",reference:Pn,expects:"boolean",async:!1,message:e,get"~standard"(){return fe(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:Me(this,"type",t,n),t}}}function kr(e){return{kind:"schema",type:"function",reference:kr,expects:"Function",async:!1,message:e,get"~standard"(){return fe(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:Me(this,"type",t,n),t}}}function ce(e,t){return{kind:"schema",type:"loose_object",reference:ce,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return fe(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:wr(i),l=i["~run"]({value:u},r);if(l.issues){const c={type:"object",origin:"value",input:o,key:a,value:u};for(const f of l.issues)f.path?f.path.unshift(c):f.path=[c],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(Me(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)tp(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else Me(this,"type",n,r);return n}}}function et(e,t){return{kind:"schema",type:"nullish",reference:et,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return fe(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=wr(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function jn(e){return{kind:"schema",type:"number",reference:jn,expects:"number",async:!1,message:e,get"~standard"(){return fe(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Me(this,"type",t,n),t}}}function qn(e,t){return{kind:"schema",type:"optional",reference:qn,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return fe(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=wr(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function ke(e){return{kind:"schema",type:"string",reference:ke,expects:"string",async:!1,message:e,get"~standard"(){return fe(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:Me(this,"type",t,n),t}}}function ja(){return{kind:"schema",type:"unknown",reference:ja,expects:"unknown",async:!1,get"~standard"(){return fe(this)},"~run"(e){return e.typed=!0,e}}}function fs(e,t,n){const r=e["~run"]({value:t},Sa(n));if(r.issues)throw new np(r.issues);return r.value}function rp(...e){return{...e[0],pipe:e,get"~standard"(){return fe(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function qa(e){return Pa(ce({TelegramWebviewProxy:ce({postEvent:kr()})}),e)}function sp(){try{return window.self!==window.top}catch{return!0}}var op=Object.defineProperty,ap=(e,t,n)=>t in e?op(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ps=(e,t,n)=>ap(e,typeof t!="symbol"?t+"":t,n);function ip(e){return t=>t instanceof e}function Ca(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,ip(n)]}const[up,Yh]=Ca("CancelledError","Promise was canceled"),[lp,Zh]=Ca("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Ta=Symbol("Resolved");function ds(e){return Array.isArray(e)&&e[0]===Ta}function cp(e){return[Ta,e]}function hs(e,t){return e.reject=t.reject,e.abort=t.abort,e}let Oa=class Cn extends Promise{constructor(t,n){let r,s;super((o,a)=>{let i,u;typeof t=="function"?(i=t,u=n):u=t;const l=[],c=d=>(...A)=>{const R=d(...A);return l.forEach(Qe=>Qe()),R},f=new AbortController,{signal:p}=f;s=d=>{!p.aborted&&f.abort(d)};const h=()=>p.reason,v=d=>{const A=()=>{d(h())};p.addEventListener("abort",A,!0);const R=()=>{p.removeEventListener("abort",A,!0)};return l.push(R),R},q=c(d=>{o(d),s(cp(d))});r=c(d=>{a(d),s(d)}),u||(u={});const{abortSignal:k,rejectOnAbort:M=!0}=u;if(k)if(k.aborted){const{reason:d}=k;if(M)return r(d);s(d)}else{const d=()=>{s(k.reason)};k.addEventListener("abort",d),l.push(()=>{k.removeEventListener("abort",d)})}M&&v(a);const{timeout:y}=u;if(y){const d=setTimeout(()=>{s(new lp(y))},y);l.push(()=>{clearTimeout(d)})}const _=()=>p.aborted,C=()=>ds(h()),L=()=>{const d=h();return ds(d)?d[1]:void 0};try{const d=i&&i(q,r,{abortReason:h,abortSignal:p,isAborted:_,isResolved:C,onAborted:v,onResolved:A=>v(()=>{C()&&A(L())}),resolved:L,throwIfAborted(){if(_())throw h()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),ps(this,"abort"),ps(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new Cn(async(r,s,o)=>{try{r(await t(o))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Cn((n,r)=>{r(t)})}cancel(){this.abort(new up)}catch(t){return this.then(void 0,t)}finally(t){return hs(super.finally(t),this)}then(t,n){return hs(super.then(t,n),this)}};function Ia(e){return`tapps/${e}`}function fp(e,t){sessionStorage.setItem(Ia(e),JSON.stringify(t))}function pp(e){const t=sessionStorage.getItem(Ia(e));try{return t?JSON.parse(t):void 0}catch{}}function dp(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function hp(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,o=s===void 0?!0:s,a=typeof o=="boolean"?()=>o:o;function i(u,l,...c){if(l||a()){const f="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${f};background-color: lightblue;color:black`,"",`${f};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...c)}}return[i.bind(void 0,"log"),i.bind(void 0,"error")]}function La(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function vp(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function _p(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function V(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=(s==null?void 0:s.expected)??e.expects??null,i=(s==null?void 0:s.received)??_p(o),u={kind:e.kind,type:e.type,input:o,expected:a,received:i,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${i}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},l=e.kind==="schema",c=(s==null?void 0:s.message)??e.message??vp(e.reference,u.lang)??(l?(u.lang,void 0):null)??r.message??(u.lang,void 0);c&&(u.message=typeof c=="function"?c(u):c),l&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function K(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},La())}}}function Na(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function yp(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var mp=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Ra(e,t){return{kind:"validation",type:"check",reference:Ra,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&V(this,"input",n,r),n}}}function Da(e){return{kind:"validation",type:"integer",reference:Da,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&V(this,"integer",t,n),t}}}function _e(e){return{kind:"transformation",type:"transform",reference:_e,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Ma(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function bp(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function tt(e){return{kind:"schema",type:"boolean",reference:tt,expects:"boolean",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:V(this,"type",t,n),t}}}function Ba(e){return{kind:"schema",type:"date",reference:Ba,expects:"Date",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?V(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:V(this,"type",t,n),t}}}function Fa(e,t){return{kind:"schema",type:"instance",reference:Fa,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return K(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:V(this,"type",n,r),n}}}function Er(e){return{kind:"schema",type:"lazy",reference:Er,expects:"unknown",async:!1,getter:e,get"~standard"(){return K(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Ke(e,t){return{kind:"schema",type:"loose_object",reference:Ke,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return K(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const i=this.entries[a];if(a in o||(i.type==="exact_optional"||i.type==="optional"||i.type==="nullish")&&i.default!==void 0){const u=a in o?o[a]:Ma(i),l=i["~run"]({value:u},r);if(l.issues){const c={type:"object",origin:"value",input:o,key:a,value:u};for(const f of l.issues)f.path?f.path.unshift(c):f.path=[c],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[a]=l.value}else if(i.type!=="exact_optional"&&i.type!=="optional"&&i.type!=="nullish"&&(V(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)Na(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else V(this,"type",n,r);return n}}}function xr(e){return{kind:"schema",type:"number",reference:xr,expects:"number",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:V(this,"type",t,n),t}}}function x(e,t){return{kind:"schema",type:"optional",reference:x,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return K(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Ma(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Ua(e,t,n){return{kind:"schema",type:"record",reference:Ua,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return K(this)},"~run"(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const u in i)if(Na(i,u)){const l=i[u],c=this.key["~run"]({value:u},s);if(c.issues){const p={type:"object",origin:"key",input:i,key:u,value:l};for(const h of c.issues)h.path=[p],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=c.issues),s.abortEarly){r.typed=!1;break}}const f=this.value["~run"]({value:l},s);if(f.issues){const p={type:"object",origin:"value",input:i,key:u,value:l};for(const h of f.issues)h.path?h.path.unshift(p):h.path=[p],(a=r.issues)==null||a.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}(!c.typed||!f.typed)&&(r.typed=!1),c.typed&&(r.value[c.value]=f.value)}}else V(this,"type",r,s);return r}}}function b(e){return{kind:"schema",type:"string",reference:b,expects:"string",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:V(this,"type",t,n),t}}}function vs(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Va(e,t){return{kind:"schema",type:"union",reference:Va,expects:yp(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return K(this)},"~run"(n,r){let s,o,a;for(const i of this.options){const u=i["~run"]({value:n.value},r);if(u.typed)if(u.issues)o?o.push(u):o=[u];else{s=u;break}else a?a.push(u):a=[u]}if(s)return s;if(o){if(o.length===1)return o[0];V(this,"type",n,r,{issues:vs(o)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];V(this,"type",n,r,{issues:vs(a)})}return n}}}function Wa(){return{kind:"schema",type:"unknown",reference:Wa,expects:"unknown",async:!1,get"~standard"(){return K(this)},"~run"(e){return e.typed=!0,e}}}function Ga(e,t,n){const r=e["~run"]({value:t},La(n));if(r.issues)throw new mp(r.issues);return r.value}function ye(...e){return{...e[0],pipe:e,get"~standard"(){return K(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function gp(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function wp(e){return Object.entries(e).reduce((t,[n,r])=>(t[gp(n)]=r,t),{})}function Tn(e){const t=wp(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Tn):Tn(r))}return t}function $r(e){return _e(t=>e?Tn(t):t)}function Ha(e){return t=>ye(e,$r(t))}function kp(e){return(t,n)=>Ga(ye(e,$r(n)),t)}function za(){return _e(JSON.parse)}function Ar(e){const t=Ha(e);return n=>ye(b(),za(),t(n))}function Ep(e){return _e(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const o=n[s];Array.isArray(o)?o.push(r):o===void 0?n[s]=r:n[s]=[o,r]}),Ga(e,n)})}function Ka(e){return t=>ye(Va([b(),Fa(URLSearchParams)]),Ep(e),$r(t))}const _s=x(Er(()=>Pp())),xp=Ke({id:xr(),photo_url:x(b()),type:b(),title:b(),username:x(b())}),$p=Ke({added_to_attachment_menu:x(tt()),allows_write_to_pm:x(tt()),first_name:b(),id:xr(),is_bot:x(tt()),is_premium:x(tt()),last_name:x(b()),language_code:x(b()),photo_url:x(b()),username:x(b())}),Ap=Ke({auth_date:ye(b(),_e(e=>new Date(Number(e)*1e3)),Ba()),can_send_after:x(ye(b(),_e(Number),Da())),chat:x(Er(()=>Sp())),chat_type:x(b()),chat_instance:x(b()),hash:b(),query_id:x(b()),receiver:_s,start_param:x(b()),signature:b(),user:_s}),Sp=Ar(xp),Pp=Ar($p),jp=Ka(Ap);function qp(e){return/^#[\da-f]{6}$/i.test(e)}const Cp=Ha(Ua(b(),ye(b(),Ra(qp),_e(e=>e)))),sn=x(ye(b(),_e(e=>e==="1"))),ys=Ar(Cp()),Tp=Ke({tgWebAppBotInline:sn,tgWebAppData:x(jp()),tgWebAppDefaultColors:x(ys()),tgWebAppFullscreen:sn,tgWebAppPlatform:b(),tgWebAppShowSettings:sn,tgWebAppStartParam:x(b()),tgWebAppThemeParams:ys(),tgWebAppVersion:b()}),Ja=Ka(Tp),Op=kp(Ja()),Ip=Ke({eventType:b(),eventData:x(Wa())});function Lp(e){try{return bp(Ja(),e)}catch{return!1}}function Np(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}function Rp(e,t){const n=Np(),r=new Map,s=(o,a,i)=>{i||(i=!1);const u=r.get(o)||new Map;r.set(o,u);const l=u.get(a)||[];u.set(a,l);const c=l.findIndex(f=>f[1]===i);c>=0&&(n.off(o,l[c][0]),l.splice(c,1),!l.length&&u.delete(a),u.size||(r.delete(o),!r.size&&t()))};return[function(o,a,i){!r.size&&e();function u(){s(o,a,i)}function l(...p){i&&u(),o==="*"?a(p):a(...p)}n.on(o,l);const c=r.get(o)||new Map;r.set(o,c);const f=c.get(a)||[];return c.set(a,f),f.push([l,i||!1]),u},s,n.emit,function(){const o=n.all.size;n.all.clear(),r.clear(),o&&t()}]}function ms(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let Dp=!1;const[Mp,Bp]=hp("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return Dp}}),Fp={clipboard_text_received:ce({req_id:ke(),data:et(ke())}),custom_method_invoked:ce({req_id:ke(),result:qn(ja()),error:qn(ke())}),popup_closed:et(ce({button_id:et(ke(),()=>{})}),{}),viewport_changed:ce({height:jn(),width:et(jn(),()=>window.innerWidth),is_state_stable:Pn(),is_expanded:Pn()})};function bs(e){if(e.source!==window.parent)return;let t;try{t=fs(rp(ke(),za(),Ip),e.data)}catch{return}const{eventType:n,eventData:r}=t,s=Fp[n];try{const o=s?fs(s,r):r;Vp(n,o)}catch(o){Bp(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,o)}}const[Up,ev,Vp,tv]=Rp(()=>{const e=window,t={receiveEvent:ms};e.TelegramGameProxy_receiveEvent=ms,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",bs)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",bs)});function Wp(e){return t=>t instanceof e}function Je(e,t){t||(t=[]);class n extends Error{constructor(...s){const o=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...o),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Wp(n)]}Je("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]);Je("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]);const Gp=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[Hp,nv]=Je("LaunchParamsRetrieveError",Gp);Je("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]);const[zp,rv]=Je("UnknownEnvError");Je("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]);function Kp(e,t){t()}function Jp(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const o=l=>{if(!n(s,l)){const c=s;s=l,Kp(u,()=>{[...r].forEach(([f,p])=>{f(l,c),p&&i(f,!0)})})}};function a(l){const c=typeof l!="object"?{once:l}:l;return{once:c.once||!1,signal:c.signal||!1}}const i=(l,c)=>{const f=a(c),p=r.findIndex(([h,v])=>h===l&&v.once===f.once&&v.signal===f.signal);p>=0&&r.splice(p,1)},u=Object.assign(function(){return Qp(u),s},{destroy(){r=[]},set:o,reset(){o(e)},sub(l,c){return r.push([l,a(c)]),()=>i(l,c)},unsub:i,unsubAll(){r=r.filter(l=>l[1].signal)}});return u}const on=[];function Qp(e){on.length&&on[on.length-1].add(e)}const Xp=Jp("https://web.telegram.org");function Yp(e,t){Mp(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(sp())return n.parent.postMessage(r,Xp());if(qa(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(Pa(ce({external:ce({notify:kr()})}),n)){n.external.notify(r);return}throw new zp}function Zp(e,t,n){n||(n={});const{capture:r}=n,[s,o]=dp();return new Oa(a=>{(Array.isArray(t)?t:[t]).forEach(i=>{s(Up(i,u=>{(!r||(Array.isArray(t)?r({event:i,payload:u}):r(u)))&&a(u)}))}),(n.postEvent||Yp)(e,n.params)},n).finally(o)}const gs="launchParams";function ws(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function ed(){for(const e of[()=>ws(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&ws(t.name)},()=>pp(gs)]){const t=e();if(t&&Lp(t))return fp(gs,t),t}throw new Hp}function td(e){return Op(ed())}function nd(e,t){try{return td(),!0}catch{return!1}return Oa.fn(async n=>{if(qa(window))return!0;try{return await Zp("web_app_request_theme","theme_changed",n),!0}catch{return!1}},{timeout:100})}var rd=Fe('<main class="svelte-1k1q5o4"> <div class="top-container svelte-1k1q5o4"><!> <!></div> <!></main>');function sd(e,t){$s(t,!0);async function n(){await nd()?(console.log("It's Telegram Mini Apps"),qe(r,"It's Telegram Mini Apps"),Yf()):(console.log("It's NOT Telegram Mini Apps"),qe(r,"It's NOT Telegram Mini Apps"))}let r=Ps("not seted");n();var s=rd(),o=re(s),a=le(o),i=re(a);Hi(i);var u=le(i,2);Ji(u);var l=le(a,2);Zi(l),Nn(()=>Bn(o,`${Mn(r)??""} `)),Ue(e,s),As()}Mi(sd,{target:document.getElementById("app")});
